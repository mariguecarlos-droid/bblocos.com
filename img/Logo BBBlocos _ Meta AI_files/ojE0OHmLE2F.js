;/*FB_PKG_DELIM*/

__d("AbraImagineEditUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.task,n=e.instruction;if(t!=null)switch(t){case"ADD":if(!n.startsWith("add "))return"add "+n;break;case"REMOVE":if(!n.startsWith("remove "))return"remove "+n;break;case"REPLACE":if(!n.startsWith("change "))return"change "+n;break;default:return n}return n}i.adjustEditInstruction=e}),66);
__d("BaseDisabled.react",["BaseDisabledContext","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={fieldset:{all:"x1uwsscb",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(7),a=t.children,i=t.disabled,l=t.variant,s;n[0]!==a||n[1]!==i||n[2]!==l?(s=i?u.jsx("fieldset",babelHelpers.extends({},(e||(e=r("stylex"))).props([c.fieldset,l.xtyleConfig.root]),{disabled:!0,children:a})):a,n[0]=a,n[1]=i,n[2]=l,n[3]=s):s=n[3];var d;return n[4]!==i||n[5]!==s?(d=u.jsx(o("BaseDisabledContext").BaseDisabledContextProvider,{disabled:i,children:s}),n[4]=i,n[5]=s,n[6]=d):d=n[6],d}l.default=d}),98);
__d("KDSDisabled.react",["BaseDisabled.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{cursor:"x1h6gzvc",height:"x5yr21d",opacity:"xbyyjgo",pointerEvents:"x71s49j",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(4),n=e.children,a=e.disabled,i=a===void 0?!1:a,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={xtyleConfig:{root:u.root}},t[0]=l):l=t[0];var c;return t[1]!==n||t[2]!==i?(c=s.jsx(r("BaseDisabled.react"),{disabled:i,variant:l,children:n}),t[1]=n,t[2]=i,t[3]=c):c=t[3],c}l.default=c}),98);
__d("KadabraImagineCanvasUtils",[],(function(t,n,r,o,a,i){"use strict";var e=2,l=4,s=1;function u(t,n){return t?s:n?l:e}function c(e,t){var n=new Set(t),r={};return e.forEach(function(e){var t=n.size>0?e.options.filter(function(e){return n.has(e.id)}).map(function(e){return e.id}):[];r[e.groupName]=t}),r}function d(e,t){var n=new Set(e),r=new Set(t);return n.difference(r).size>0||r.difference(n).size>0}i.getNumColumnsForCanvas=u,i.getPreselectedPromptPiecesByGroup=c,i.hasPromptPiecesChanges=d}),66);
__d("KadabraImagineEditorContext.react",["fbt","AbraImagineEditTypes","AbraImagineEditUtils","AbraMessageListContext.react","FBLogger","KadabraImagineRouteHooks","KadabraImagineStrings","KadabraMetaAIEntryPointContext","KadabraPromptRootContext","KadabraPromptSessionManager","KadabraUnifiedCanvasContext.react","KadabraUnifiedCanvasFilmStripContextProvider.react","KadabraUnifiedCanvasPresetsContext.react","emptyFunction","react","react-compiler-runtime","useAbraIsStreaming","useAlakazamSendMessage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.use,m=c.useState,p=function(){throw r("FBLogger")("kadabra_core").mustfixThrow("Missing context KadabraImagineEditorContext ")},_={artifactMediaId:void 0,canAnimate:!1,canEdit:!1,canRegenerate:!1,canRemix:!1,editData:o("AbraImagineEditTypes").EDIT_DATA_DEFAULT,isGenerating:!1,onClose:p,setEditData:p,source:void 0,submitEditRequest:r("emptyFunction")},f=u.createContext(_);function g(e){var t=o("react-compiler-runtime").c(28),n=e.artifactMediaId,a=e.canAnimate,i=e.canEdit,l=e.canRegenerate,s=e.canRemix,c=e.children,p=e.ecidOverride,_=e.onClose,g=e.source,h=a===void 0?!0:a,C=i===void 0?!0:i,b=l===void 0?!0:l,v=s===void 0?!0:s,S=o("KadabraUnifiedCanvasFilmStripContextProvider.react").useKadabraUnifiedCanvasFilmStripContext(),R=S.setNotificationMessage,L=o("useAlakazamSendMessage").useAlakazamSendMessageObservable("kadabra.imagineCanvasPreset"),E=o("useAlakazamSendMessage").useAlakazamSendMessageObservable("kadabra.imagineEdit"),k=m(o("AbraImagineEditTypes").EDIT_DATA_DEFAULT),I=k[0],T=k[1],D=r("useAbraIsStreaming")(),x=D.isStreaming,$=o("KadabraImagineRouteHooks").useLogCloseAction(),P=o("AbraMessageListContext.react").useAbraMessageListContext(),N=P.externalConversationId,M=p!=null?p:N,w=o("KadabraUnifiedCanvasContext.react").useKadabraUnifiedCanvasContext(),A=w.isRemix,F=w.remixPostId,O=d(r("KadabraPromptRootContext")),B=O.space_id,W=d(o("KadabraMetaAIEntryPointContext").KadabraMetaAIEntryPointContext),q=x,U=o("KadabraUnifiedCanvasPresetsContext.react").useKadabraUnifiedCanvasPresetsContext(),V=U.getTilePresetById,H;t[0]!==C||t[1]!==M||t[2]!==V||t[3]!==A||t[4]!==W||t[5]!==F||t[6]!==E||t[7]!==L||t[8]!==R||t[9]!==B?(H=function(t,n,a,i,l,s){var e=l===void 0?[]:l,u=e.map(function(e){return V(e)}).filter(Boolean),c=y(u),d=babelHelpers.extends({},o("AbraImagineEditTypes").EDIT_DATA_DEFAULT,{instruction:c!=null?c:t}),m=o("AbraImagineEditUtils").adjustEditInstruction(d),p=s!=null?s:M,_=e&&e.length>0?L:E;if(p!=null&&C===!0&&_!=null){R(o("KadabraImagineStrings").IMAGE_GENERATION_TOAST.toString());var f=r("KadabraPromptSessionManager").getPromptSessionId(),g={anchor:d.anchor,edit_task:d.task,external_conversation_id:p,image_id:n,image_source:"SYNTHETIC",instruction:m,is_user_uploaded_session:!1,media_type:a,preset_ids:e,prompt_session_id:f,source_remix_post_id:A?F:void 0,space_id:B,surface_type:"ABRA"};return _({entrypoint:W,externalConversationId:M,imagineClientOptions:{orientation:i},imagineOperationRequest:{image_to_image_params:g,operation:"IMAGE_TO_IMAGE"},isNewConversation:!1,message:m})}},t[0]=C,t[1]=M,t[2]=V,t[3]=A,t[4]=W,t[5]=F,t[6]=E,t[7]=L,t[8]=R,t[9]=B,t[10]=H):H=t[10];var G=H,z;t[11]!==$||t[12]!==_?(z=function(t){$.log("imagine_editor_close_button_click"),_==null||_(t)},t[11]=$,t[12]=_,t[13]=z):z=t[13];var j=z,K;t[14]!==n||t[15]!==h||t[16]!==C||t[17]!==b||t[18]!==v||t[19]!==I||t[20]!==q||t[21]!==j||t[22]!==g||t[23]!==G?(K={artifactMediaId:n,canAnimate:h,canEdit:C,canRegenerate:b,canRemix:v,editData:I,isGenerating:q,onClose:j,setEditData:T,source:g,submitEditRequest:G},t[14]=n,t[15]=h,t[16]=C,t[17]=b,t[18]=v,t[19]=I,t[20]=q,t[21]=j,t[22]=g,t[23]=G,t[24]=K):K=t[24];var Q=K,X;return t[25]!==c||t[26]!==Q?(X=u.jsx(f.Provider,{value:Q,children:c}),t[25]=c,t[26]=Q,t[27]=X):X=t[27],X}function h(){return d(f)}function y(e){var t,n;if(e.length===0)return null;var r=(t=(n=e[0])==null?void 0:n.name)!=null?t:"";return s._(/*BTDS*/"Reestilizar: {prompt_preset_title}",[s._param("prompt_preset_title",r)]).toString()}l.KadabraImagineEditorContextProvider=g,l.useKadabraImagineEditorContext=h}),226);
__d("KadabraUnifiedCanvasAnimateTool_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"orientation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasAnimateTool_media",selections:[{kind:"InlineFragment",selections:e,type:"XFBGENAIImagineImage",abstractKey:null},{kind:"InlineFragment",selections:e,type:"XFBGenAIImagineUserUploadedImage",abstractKey:null}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasAnimateTool.react",["fbt","CometRelay","KDSFlexbox.react","KadabraImagineClientOptionsContext.react","KadabraUnifiedCanvasAnimateTool_media.graphql","KadabraUnifiedCanvasComposerContext.react","KadabraUnifiedCanvasContext.react","KadabraUnifiedCanvasEditorContextProvider.react","KadabraUnifiedCanvasToolActionButtonBase.react","MetaBrandTriangleRightCircleOutline24Icon.react","cr:4997","gkx","kdsWidth","react","react-compiler-runtime","useKadabraInteractionLogger","useKadabraLoginUpsellDialog","useKadabraUnifiedCanvasComposerDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState,g=r("gkx")("6835");function h(t){var a=o("react-compiler-runtime").c(45),i=t.composerMediaKey,l=t.mediaKey,u=t.messageID,d=r("useKadabraInteractionLogger")(),m=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasAnimateTool_media.graphql"),l),h=f(null),y=h[0],C=f(!1),b=C[0],v=C[1],S=m==null?void 0:m.id,R=o("KadabraUnifiedCanvasComposerContext.react").useKadabraUnifiedCanvasComposerContext(),L=R.setMode,E=r("useKadabraUnifiedCanvasComposerDialog")(i),k=E.openUnifiedCanvasComposer,I=o("KadabraUnifiedCanvasContext.react").useKadabraUnifiedCanvasContext(),T=I.isRemix,D=!T&&g,x=f(!1),$=x[0],P=x[1],N=_(null),M,w;a[0]===Symbol.for("react.memo_cache_sentinel")?(M=function(){return(function(){var e;(e=N.current)==null||e.unsubscribe(),N.current=null})},w=[N],a[0]=M,a[1]=w):(M=a[0],w=a[1]),p(M,w);var A=o("KadabraUnifiedCanvasEditorContextProvider.react").useKadabraUnifiedCanvasEditorContext(),F=A.submitAnimateRequest,O,B;a[2]!==$?(O=function(){$||v(!1)},B=[$],a[2]=$,a[3]=O,a[4]=B):(O=a[3],B=a[4]),p(O,B);var W;a[5]!==m||a[6]!==S||a[7]!==u||a[8]!==F?(W=function(t,n){var e,r;if(m){var a=F({imageId:S!=null?S:"",imageOrientation:(e=m.orientation)!=null?e:o("KadabraImagineClientOptionsContext.react").DEFAULT_ORIENTATION,imageSrc:(r=m.uri)!=null?r:"",messageId:u!=null?u:"",musicOverlay:n,prompt:t});N.current=a==null?void 0:a.subscribe({complete:function(){P(!1)},error:function(){P(!1)},start:function(){P(!0)}})}},a[5]=m,a[6]=S,a[7]=u,a[8]=F,a[9]=W):W=a[9];var q=W,U;a[10]!==q||a[11]!==d||a[12]!==(m==null?void 0:m.id)||a[13]!==y?(U=function(){var e;d.log({action_target:"unified_canvas_media",action_type:"click",edit_action:"AUTO_ANIMATE",event_name:"imagine_canvas_animate_button_click",imagine_media_info:{media_id:(e=m==null?void 0:m.id)!=null?e:""}}),q("",y)},a[10]=q,a[11]=d,a[12]=m==null?void 0:m.id,a[13]=y,a[14]=U):U=a[14];var V=U,H;a[15]!==D||a[16]!==d||a[17]!==m||a[18]!==S||a[19]!==u||a[20]!==y||a[21]!==k||a[22]!==L?(H=function(){var e,t;m&&(d.log({action_target:"unified_canvas_media",action_type:"click",event_name:"unified_canvas_open_animate_modal",imagine_media_info:{media_id:S!=null?S:""}}),L({props:{imageId:S!=null?S:"",imageOrientation:(e=m.orientation)!=null?e:o("KadabraImagineClientOptionsContext.react").DEFAULT_ORIENTATION,imageSrc:(t=m.uri)!=null?t:"",messageId:u!=null?u:"",musicOverlay:y},type:"i2v"}),v(!0),k("",void 0,void 0,D))},a[15]=D,a[16]=d,a[17]=m,a[18]=S,a[19]=u,a[20]=y,a[21]=k,a[22]=L,a[23]=H):H=a[23];var G=H,z;a[24]===Symbol.for("react.memo_cache_sentinel")?(z=s._(/*BTDS*/"Animar"),a[24]=z):z=a[24];var j=z,K;a[25]===Symbol.for("react.memo_cache_sentinel")?(K=s._(/*BTDS*/"Animar de forma personalizada"),a[25]=K):K=a[25];var Q=K,X=r("useKadabraLoginUpsellDialog")("imagine_canvas_animate",V),Y=X.onPress,J=r("useKadabraLoginUpsellDialog")("imagine_canvas_animate",G),Z=J.onHoverIn,ee=J.onHoverOut,te=J.onPress,ne=$&&!b,re;a[26]!==$||a[27]!==Y||a[28]!==ne?(re=c.jsx(r("KadabraUnifiedCanvasToolActionButtonBase.react"),{isDisabled:$,isLoading:ne,label:j,onPress:Y,testid:void 0,variant:"primary",xstyle:r("kdsWidth").fullWidth}),a[26]=$,a[27]=Y,a[28]=ne,a[29]=re):re=a[29];var oe=re,ae=$&&b,ie;a[30]!==$||a[31]!==te||a[32]!==ae?(ie=c.jsx(r("KadabraUnifiedCanvasToolActionButtonBase.react"),{isDisabled:$,isLoading:ae,label:Q,onPress:te,testid:void 0,xstyle:r("kdsWidth").fullWidth}),a[30]=$,a[31]=te,a[32]=ae,a[33]=ie):ie=a[33];var le=ie;if(n("cr:4997")){var se;return a[34]!==te||a[35]!==Z||a[36]!==ee?(se=c.jsx(n("cr:4997"),{icon:r("MetaBrandTriangleRightCircleOutline24Icon.react"),label:j,onHoverIn:Z,onHoverOut:ee,onPress:te,testid:void 0}),a[34]=te,a[35]=Z,a[36]=ee,a[37]=se):se=a[37],se}var ue;a[38]!==oe?(ue=c.jsx(r("KDSFlexbox.react"),{grow:1,children:oe}),a[38]=oe,a[39]=ue):ue=a[39];var ce;a[40]!==le?(ce=c.jsx(r("KDSFlexbox.react"),{grow:1,children:le}),a[40]=le,a[41]=ce):ce=a[41];var de;if(a[42]!==ue||a[43]!==ce){var me=c.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:8,children:[ue,ce]});de=c.jsx(r("KDSFlexbox.react"),{direction:"column",gap:8,children:me}),a[42]=ue,a[43]=ce,a[44]=de}else de=a[44];return de}l.default=h}),226);
__d("KadabraUnifiedCanvasFloatingComposerInformation.react",["KDSFigure.react","KDSFlexbox.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={figure:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",$$css:!0},floating:{bottom:"xqo3gd",boxSizing:"x9f619",height:"xsdox4t",insetInlineStart:"xrotz4w",left:null,right:null,paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.musicBadge,a=e.src,i;t[0]!==a?(i=a!=null&&s.jsx(r("KDSFigure.react"),{src:a,xstyle:u.figure}),t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=s.jsxs(r("KDSFlexbox.react"),{gap:8,xstyle:u.floating,children:[i,n]}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}l.default=c}),98);
__d("KadabraUnifiedCanvasToolTextAreaBase.react",["KDSTextArea.react","KadabraUnifiedCanvasToolInputStyles","kdsWidth","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.isDisabled,a=e.maxRows,i=e.minRows,l=e.onChangeText,u=e.placeholder,c=e.surface,d=e.value,m=e.xstyle,p;t[0]!==m?(p=[r("kdsWidth").fullWidth,o("KadabraUnifiedCanvasToolInputStyles").KadabraUnifiedCanvasToolInputStyles.input,m],t[0]=m,t[1]=p):p=t[1];var _;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==u||t[7]!==c||t[8]!==p||t[9]!==d?(_=s.jsx(r("KDSTextArea.react"),{disabled:n,maxRows:a,minRows:i,onChangeText:l,placeholder:u,surface:c,value:d,xstyle:p}),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=d,t[10]=_):_=t[10],_}l.default=u}),98);
__d("KadabraUnifiedCanvasToolComposer.react",["CometComponentWithKeyCommands.react","CometKeys","KadabraUnifiedCanvasFloatingComposerInformation.react","KadabraUnifiedCanvasFloatingSubmitButton.react","KadabraUnifiedCanvasToolTextAreaBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(35),n=e.isDisabled,a=e.isGenerating,i=e.maxRows,l=e.minRows,u=e.musicBadge,c=e.onChangeText,d=e.onSubmit,m=e.placeholder,p=e.sourceMediaSrc,_=e.submitButtonXStyle,f=e.submitLabel,g=e.testid,h=e.value,y=n===void 0?!1:n,C=a===void 0?!1:a,b;t[0]!==h?(b=h==null?void 0:h.trim(),t[0]=h,t[1]=b):b=t[1];var v=b==="",S;t[2]!==y||t[3]!==v||t[4]!==d?(S=function(){v||y===!0||d()},t[2]=y,t[3]=v,t[4]=d,t[5]=S):S=t[5];var R=S,L;t[6]===Symbol.for("react.memo_cache_sentinel")?(L={key:r("CometKeys").ENTER},t[6]=L):L=t[6];var E;t[7]!==R||t[8]!==f?(E=[{command:L,description:f,handler:R,triggerFromInputs:!0}],t[7]=R,t[8]=f,t[9]=E):E=t[9];var k=E,I=v||y===!0,T;t[10]===Symbol.for("react.memo_cache_sentinel")?(T={className:"x1n2onr6"},t[10]=T):T=t[10];var D=h!=null?h:"",x;t[11]!==C||t[12]!==i||t[13]!==l||t[14]!==c||t[15]!==m||t[16]!==D?(x=s.jsx(r("KadabraUnifiedCanvasToolTextAreaBase.react"),{isDisabled:C,maxRows:i,minRows:l,onChangeText:c,placeholder:m,value:D}),t[11]=C,t[12]=i,t[13]=l,t[14]=c,t[15]=m,t[16]=D,t[17]=x):x=t[17];var $;t[18]!==u||t[19]!==p?($=s.jsx(r("KadabraUnifiedCanvasFloatingComposerInformation.react"),{musicBadge:u,src:p}),t[18]=u,t[19]=p,t[20]=$):$=t[20];var P;t[21]!==R||t[22]!==C||t[23]!==I||t[24]!==_||t[25]!==f||t[26]!==g?(P=s.jsx(r("KadabraUnifiedCanvasFloatingSubmitButton.react"),{isDisabled:I,isGenerating:C,label:f,onPress:R,testid:void 0,wrapperXStyle:_}),t[21]=R,t[22]=C,t[23]=I,t[24]=_,t[25]=f,t[26]=g,t[27]=P):P=t[27];var N;t[28]!==$||t[29]!==P||t[30]!==x?(N=s.jsxs("div",babelHelpers.extends({},T,{children:[x,$,P]})),t[28]=$,t[29]=P,t[30]=x,t[31]=N):N=t[31];var M;return t[32]!==k||t[33]!==N?(M=s.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:k,children:N}),t[32]=k,t[33]=N,t[34]=M):M=t[34],M}l.default=u}),98);
__d("KadabraUnifiedCanvasEditToolImage.react",["fbt","KDSFlexbox.react","KadabraImagineEditorContext.react","KadabraPromptRootContext","KadabraRouteUtils","KadabraUnifiedCanvasToolAccordion.react","KadabraUnifiedCanvasToolComposer.react","MetaBrandPencilStardustOutline24Icon.react","cr:4997","generateAbraConversationID","gkx","react","react-compiler-runtime","useBoolean","useCometRouterDispatcher","useKadabraInteractionLogger","useKadabraLoginUpsellDialog","useKadabraPageLayout"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.use,m=c.useCallback,p=c.useEffect,_=c.useRef,f=c.useState,g=r("gkx")("6835"),h=s._(/*BTDS*/"Editar imagem"),y=s._(/*BTDS*/"Descreva suas edi\u00e7\u00f5es"),C=1500,b={submitButton:{bottom:"x1m82ljr",transform:"x131p8rn",$$css:!0}};function v(e){var t=o("react-compiler-runtime").c(35),a=e.imageOrientation,i=e.imageUri,l=e.mediaID,c=e.mediaType,m=r("useKadabraInteractionLogger")(),v=r("useKadabraPageLayout")(),S=v.isMobileLayout,R=r("useCometRouterDispatcher")(),L=r("useBoolean")(S),E=L.toggle,k=L.value,I=f(""),T=I[0],D=I[1],x=o("KadabraImagineEditorContext.react").useKadabraImagineEditorContext(),$=x.isGenerating,P=x.submitEditRequest,N=d(r("KadabraPromptRootContext")),M=N.external_conversation_id,w;t[0]!==M?(w=M!=null?M:r("generateAbraConversationID")(),t[0]=M,t[1]=w):w=t[1];var A=w,F=f(!1),O=F[0],B=F[1],W=_(null),q=_(null),U,V;t[2]===Symbol.for("react.memo_cache_sentinel")?(U=function(){return(function(){var e;(e=q.current)==null||e.unsubscribe(),q.current=null,W.current!=null&&(window.clearTimeout(W.current),W.current=null)})},V=[q],t[2]=U,t[3]=V):(U=t[2],V=t[3]),p(U,V);var H;t[4]!==A||t[5]!==R||t[6]!==a||t[7]!==m||t[8]!==l||t[9]!==c||t[10]!==T||t[11]!==P?(H=function(){if(T.trim()!==""){m.log({action_target:"unified_canvas_media",action_type:"click",event_name:"unified_canvas_submit_edit",imagine_media_info:{media_id:l}});var e=P(T,l,c,a,[],A);q.current=e==null?void 0:e.subscribe({complete:function(){W.current!=null&&(window.clearTimeout(W.current),W.current=null,B(!1))},error:function(){W.current!=null&&(window.clearTimeout(W.current),W.current=null,B(!1))},start:function(){if(W.current=window.setTimeout(function(){B(!1),W.current=null},C),B(!0),g)if(c==="UPLOADED_IMAGE"){var e=o("KadabraRouteUtils").kadabraRouteImagineCreate({});R==null||R.go(e,{})}else{var t=o("KadabraRouteUtils").kadabraRoutePrompt({prompt_id:A});R==null||R.go(t,{})}}})}},t[4]=A,t[5]=R,t[6]=a,t[7]=m,t[8]=l,t[9]=c,t[10]=T,t[11]=P,t[12]=H):H=t[12];var G=H,z;t[13]===Symbol.for("react.memo_cache_sentinel")?(z=s._(/*BTDS*/"Editar imagem"),t[13]=z):z=t[13];var j=z,K=r("useKadabraLoginUpsellDialog")("kadabra_concord_create_type_menu",G),Q=K.onPress,X=_(null);if(n("cr:4997")){var Y;t[14]!==k||t[15]!==O||t[16]!==$||t[17]!==Q||t[18]!==T?(Y=!k&&u.jsx("div",{className:"x1ie60bf x9f619 xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x10l6tqk xh8yej3",children:u.jsx(r("KadabraUnifiedCanvasToolComposer.react"),{isGenerating:$||O,maxRows:g?1:void 0,minRows:g?1:void 0,onChangeText:D,onSubmit:Q,placeholder:s._(/*BTDS*/"por exemplo, adicione um chap\u00e9u"),submitButtonXStyle:b.submitButton,submitLabel:j,testid:void 0,value:T})}),t[14]=k,t[15]=O,t[16]=$,t[17]=Q,t[18]=T,t[19]=Y):Y=t[19];var J;t[20]===Symbol.for("react.memo_cache_sentinel")?(J=s._(/*BTDS*/"Editar"),t[20]=J):J=t[20];var Z;t[21]!==E?(Z=u.jsx(n("cr:4997"),{icon:r("MetaBrandPencilStardustOutline24Icon.react"),label:J,onPress:function(){var e;E(),(e=X.current)==null||e.focus()},testid:void 0}),t[21]=E,t[22]=Z):Z=t[22];var ee;return t[23]!==Y||t[24]!==Z?(ee=u.jsxs(u.Fragment,{children:[Y,Z]}),t[23]=Y,t[24]=Z,t[25]=ee):ee=t[25],ee}var te=$||O,ne;t[26]===Symbol.for("react.memo_cache_sentinel")?(ne=s._(/*BTDS*/"por exemplo, adicione um chap\u00e9u"),t[26]=ne):ne=t[26];var re;t[27]!==Q||t[28]!==T||t[29]!==te?(re=u.jsx(r("KDSFlexbox.react"),{direction:"column",gap:8,children:u.jsx(r("KadabraUnifiedCanvasToolComposer.react"),{isGenerating:te,onChangeText:D,onSubmit:Q,placeholder:ne,submitLabel:j,testid:void 0,value:T})}),t[27]=Q,t[28]=T,t[29]=te,t[30]=re):re=t[30];var oe;return t[31]!==k||t[32]!==re||t[33]!==E?(oe=u.jsx(r("KadabraUnifiedCanvasToolAccordion.react"),{hasDivider:!1,isCollapsed:k,onToggle:E,subtitle:y,title:h,children:re}),t[31]=k,t[32]=re,t[33]=E,t[34]=oe):oe=t[34],oe}l.default=v}),226);
__d("KadabraUnifiedCanvasImagePresetTools_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasImagePresetTools_media",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaSet",kind:"LinkedField",name:"imagine_media_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImaginePromptPiece",kind:"LinkedField",name:"prompt_pieces",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"}],storageKey:null}],storageKey:null}],type:"XFBGENAIImagineImage",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasImagePresetTools.react",["fbt","CometRelay","KDSFlexbox.react","KadabraImagineCanvasUtils","KadabraImagineEditorContext.react","KadabraImagineRestyleBrowserDialog.entrypoint","KadabraImagineRestyleBrowserDialogLoadingState.react","KadabraUnifiedCanvasImagePresetTools_media.graphql","KadabraUnifiedCanvasPresetsContext.react","KadabraUnifiedCanvasStylesTool.react","KadabraUnifiedCanvasToolAccordion.react","KadabraUnifiedCanvasToolActionButtonBase.react","MetaBrandBrushSparklesOutline24Icon.react","cr:4997","kdsWidth","react","react-compiler-runtime","useBoolean","useKDSEntryPointDialog","useKadabraInteractionLogger","useKadabraLoginUpsellDialog","useKadabraPageLayout"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useMemo,f=d.useRef,g=d.useState,h=s._(/*BTDS*/"Reestilizar"),y=12,C=4;function b(t){var a,i=o("react-compiler-runtime").c(52),l=t.basePrompt,u=t.imageOrientation,d=t.mediaID,m=t.mediaKey,_=t.mediaType,b=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasImagePresetTools_media.graphql"),m),E=g(!1),k=E[0],I=E[1],T=f(null),D=r("useKadabraPageLayout")(),x=D.isMobileLayout,$=r("useBoolean")(x),P=$.toggle,N=$.value,M=o("KadabraImagineEditorContext.react").useKadabraImagineEditorContext(),w=M.submitEditRequest,A=r("useKadabraInteractionLogger")(),F;i[0]===Symbol.for("react.memo_cache_sentinel")?(F=[],i[0]=F):F=i[0];var O=g(F),B=O[0],W=O[1],q;i[1]===Symbol.for("react.memo_cache_sentinel")?(q={},i[1]=q):q=i[1];var U=g(q),V=U[0],H=U[1],G=o("KadabraUnifiedCanvasPresetsContext.react").useKadabraUnifiedCanvasPresetsContext(),z=G.presetGroupsForI2I,j;e:{if(z.length===0){var K;i[2]===Symbol.for("react.memo_cache_sentinel")?(K=[],i[2]=K):K=i[2],j=K;break e}var Q=z[0],X;i[3]!==z?(X=z.flatMap(L).filter(R),i[3]=z,i[4]=X):X=i[4];var Y=X,J;i[5]!==Y||i[6]!==Q?(J=[babelHelpers.extends({},Q,{options:Y})],i[5]=Y,i[6]=Q,i[7]=J):J=i[7],j=J}var Z=j,ee;i[8]===Symbol.for("react.memo_cache_sentinel")?(ee={},i[8]=ee):ee=i[8];var te=r("useKDSEntryPointDialog")(r("KadabraImagineRestyleBrowserDialog.entrypoint"),ee,void 0,S),ne=te[0],re,oe;i[9]===Symbol.for("react.memo_cache_sentinel")?(re=function(){return(function(){var e;(e=T.current)==null||e.unsubscribe(),T.current=null})},oe=[T],i[9]=re,i[10]=oe):(re=i[9],oe=i[10]),p(re,oe);var ae;if(i[11]!==(b==null||(a=b.imagine_media_set)==null?void 0:a.prompt_pieces)||i[12]!==z){var ie;ae=function(){var e,t,n=(e=b==null||(t=b.imagine_media_set)==null||(t=t.prompt_pieces)==null?void 0:t.map(v))!=null?e:[],r=o("KadabraImagineCanvasUtils").getPreselectedPromptPiecesByGroup(z,n);W(Object.values(r).flat())},i[11]=b==null||(ie=b.imagine_media_set)==null?void 0:ie.prompt_pieces,i[12]=z,i[13]=ae}else ae=i[13];var le;i[14]!==b||i[15]!==z?(le=[z,b],i[14]=b,i[15]=z,i[16]=le):le=i[16],p(ae,le);var se;i[17]!==l||i[18]!==u||i[19]!==d||i[20]!==_||i[21]!==z||i[22]!==V||i[23]!==w?(se=function(t){return function(e){var n,r=new Set;if(e.length>0){var o,a=e[e.length-1];n=(o={},o[t]=[a],o),r.add(a)}else{var i;n=babelHelpers.extends({},V,(i={},i[t]=e,i)),z.forEach(function(e){e.options.forEach(function(t){var o;((o=n[e.groupName])!=null?o:[]).includes(t.id)&&r.add(t.id)})})}H(n);var s=w(l,d,_,u,Array.from(r));T.current=s==null?void 0:s.subscribe({complete:function(){I(!1)},error:function(){I(!1)},start:function(){I(!0)}})}},i[17]=l,i[18]=u,i[19]=d,i[20]=_,i[21]=z,i[22]=V,i[23]=w,i[24]=se):se=i[24];var ue=se,ce;i[25]!==ue||i[26]!==Z[0].groupName?(ce=function(t){ue(Z[0].groupName)(t)},i[25]=ue,i[26]=Z[0].groupName,i[27]=ce):ce=i[27];var de=ce,me=r("useKadabraLoginUpsellDialog")("imagine_canvas_restyle_tool",de),pe=me.onPress,_e;i[28]!==ue||i[29]!==A||i[30]!==d||i[31]!==Z||i[32]!==B||i[33]!==ne?(_e=function(){A.log({action_target:"unified_canvas_media",action_type:"click",event_name:"unified_canvas_restyle_browse_click",imagine_media_info:{media_id:d!=null?d:""}}),ne({onSelectedOptionsChange:ue,presetGroups:Z,selectedPresets:B})},i[28]=ue,i[29]=A,i[30]=d,i[31]=Z,i[32]=B,i[33]=ne,i[34]=_e):_e=i[34];var fe=_e;if(n("cr:4997")){var ge;i[35]===Symbol.for("react.memo_cache_sentinel")?(ge=s._(/*BTDS*/"Reestilizar"),i[35]=ge):ge=i[35];var he;return i[36]!==fe?(he=c.jsx(n("cr:4997"),{icon:r("MetaBrandBrushSparklesOutline24Icon.react"),label:ge,onPress:fe,testid:void 0}),i[36]=fe,i[37]=he):he=i[37],he}var ye;if(i[38]!==k||i[39]!==Z[0]||i[40]!==Z.length||i[41]!==pe||i[42]!==V){var Ce;ye=Z.length>0&&c.jsx(r("KDSFlexbox.react"),{direction:"column",gap:4,children:c.jsx(r("KadabraUnifiedCanvasStylesTool.react"),{allowReselect:!0,columnCount:C,initialItemCount:y,isDisabled:k,isGenerating:k,isTileInfoEnabled:!1,onSelectedOptionsChange:pe,presetGroup:Z[0],selectedOptions:(Ce=V[Z[0].groupName])!=null?Ce:[],showSeeMoreChip:!1,showTextOnHover:!0,title:Z[0].groupName})}),i[38]=k,i[39]=Z[0],i[40]=Z.length,i[41]=pe,i[42]=V,i[43]=ye}else ye=i[43];var be;i[44]===Symbol.for("react.memo_cache_sentinel")?(be=s._(/*BTDS*/"Navegar"),i[44]=be):be=i[44];var ve;i[45]!==fe?(ve=c.jsx(r("KadabraUnifiedCanvasToolActionButtonBase.react"),{label:be,onPress:fe,testid:void 0,xstyle:r("kdsWidth").fullWidth}),i[45]=fe,i[46]=ve):ve=i[46];var Se;return i[47]!==N||i[48]!==ye||i[49]!==ve||i[50]!==P?(Se=c.jsxs(r("KadabraUnifiedCanvasToolAccordion.react"),{isCollapsed:N,onToggle:P,title:h,children:[ye,ve]}),i[47]=N,i[48]=ye,i[49]=ve,i[50]=P,i[51]=Se):Se=i[51],Se}function v(e){return e.id}function S(e){return c.jsx(r("KadabraImagineRestyleBrowserDialogLoadingState.react"),{onClose:e})}S.displayName=S.name+" [from "+i.id+"]";function R(e,t,n){return n.findIndex(function(t){return t.id===e.id})===t}function L(e){return e.options}l.default=b}),226);
__d("KadabraUnifiedCanvasRefetchContext.react",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.use,m=c(null);function p(){var e=d(m);if(e==null)throw r("FBLogger")("kadabra_core").mustfixThrow("useKadabraUnifiedCanvasRefetch must be used within KadabraUnifiedCanvasRefetchContextProvider");return e}var _=m.Provider;l.useKadabraUnifiedCanvasRefetch=p,l.KadabraUnifiedCanvasRefetchContextProvider=_}),98);
__d("KadabraUnifiedCanvasToolPanelImageToolsetForImage_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},t={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__kadabra_media_concord_voice_overrelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelImageToolsetForImage_media",selections:[e,{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"orientation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"root_image_type",storageKey:null},{kind:"RequiredField",field:t,action:"THROW"},n,{alias:null,args:null,concreteType:"XFBGENAIImagineMediaSet",kind:"LinkedField",name:"imagine_media_set",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_action",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"base_prompt",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"XFBGenAIImagineGetSwapBoundingBoxOutput",kind:"LinkedField",name:"swap_bounding_boxes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasBody_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasBody_media"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasAnimateTool_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasAnimateTool_media"},{args:null,kind:"FragmentSpread",name:"useKadabraUpdateSelectedImageMediaSet_media"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasImagePresetTools_media"}],type:"XFBGENAIImagineImage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasImagePresetTools_media"},{condition:"__relay_internal__pv__kadabra_media_concord_voice_overrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasMusicToolV2_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasMusicToolV2_media"}]}],type:"XFBGENAIImagineImage",abstractKey:null}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelImageToolsetForImage_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__enable_swap_me_on_kadabrarelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelImageToolsetForImage_viewer",selections:[{condition:"__relay_internal__pv__enable_swap_me_on_kadabrarelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasAddPeopleTool_viewer"}],type:"XABUser",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasAddPeopleTool_viewer"}]}],type:"XABABRAViewer",abstractKey:"__isXABABRAViewer"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelImageToolsetLayout.react",["KadabraUnifiedCanvasToolPanelBaseLayout.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("gkx")("6835");function c(e){var t=o("react-compiler-runtime").c(15),n=e.addPeopleTool,a=e.animateTool,i=e.editTool,l=e.extendAnimationTool,c=e.musicToolV2,d=e.presetTool,m=e.promptTool;if(u){var p;return t[0]!==a||t[1]!==i||t[2]!==d||t[3]!==m?(p=s.jsx(r("KadabraUnifiedCanvasToolPanelBaseLayout.react"),{mainTools:s.jsxs(s.Fragment,{children:[i,m,a,d]})}),t[0]=a,t[1]=i,t[2]=d,t[3]=m,t[4]=p):p=t[4],p}var _;t[5]!==n||t[6]!==i||t[7]!==l||t[8]!==c||t[9]!==d||t[10]!==m?(_=s.jsxs(s.Fragment,{children:[m,l,d,n,i,c]}),t[5]=n,t[6]=i,t[7]=l,t[8]=c,t[9]=d,t[10]=m,t[11]=_):_=t[11];var f;return t[12]!==a||t[13]!==_?(f=s.jsx(r("KadabraUnifiedCanvasToolPanelBaseLayout.react"),{footerTools:a,mainTools:_}),t[12]=a,t[13]=_,t[14]=f):f=t[14],f}l.default=c}),98);
__d("KadabraUnifiedCanvasToolPanelImageToolsetForImage.react",["AbraMessageListItemContext.react","CometRelay","KadabraImagineClientOptionsContext.react","KadabraUnifiedCanvasAnimateTool.react","KadabraUnifiedCanvasEditToolImage.react","KadabraUnifiedCanvasImagePresetTools.react","KadabraUnifiedCanvasPromptToolImageMode.react","KadabraUnifiedCanvasToolPanelImageToolsetForImage_media.graphql","KadabraUnifiedCanvasToolPanelImageToolsetForImage_viewer.graphql","KadabraUnifiedCanvasToolPanelImageToolsetLayout.react","KadabraUnifiedCanvasUtils","cr:27458","cr:551","gkx","react","react-compiler-runtime","useKadabraUpdateSelectedImageMediaSet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useEffect,m=r("gkx")("6835");function p(t){var a,i,l,u,p,f,g,h=o("react-compiler-runtime").c(47),y=t.mediaKey,C=t.viewerKey,b=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolPanelImageToolsetForImage_viewer.graphql"),C),v=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraUnifiedCanvasToolPanelImageToolsetForImage_media.graphql"),y),S=r("useKadabraUpdateSelectedImageMediaSet")(v),R=o("AbraMessageListItemContext.react").useAbraMessageListItemContext(),L=R.messageID,E=o("KadabraUnifiedCanvasUtils").useGetUnifiedCanvasParams(),k=E.remix_video_id,I=(v==null?void 0:v.root_image_type)==="USER_UPLOADED",T=v==null?void 0:v.imagine_media_set,D=T!=null?T:{},x=D.user_action,$=(a=(i=(l=T==null?void 0:T.base_prompt)!=null?l:T==null?void 0:T.prompt)!=null?i:v==null?void 0:v.prompt)!=null?a:"",P=(u=v==null?void 0:v.media_type)!=null?u:"IMAGE",N=(p=v==null?void 0:v.orientation)!=null?p:o("KadabraImagineClientOptionsContext.react").DEFAULT_ORIENTATION,M=(f=v==null||(g=v.source_media)==null?void 0:g.uri)!=null?f:"",w;h[0]!==S?(w=function(){S()},h[0]=S,h[1]=w):w=h[1];var A;if(h[2]!==v||h[3]!==S?(A=[S,v],h[2]=v,h[3]=S,h[4]=A):A=h[4],d(w,A),v==null)return null;var F;if(h[5]!==v.swap_bounding_boxes){var O;F=((O=v.swap_bounding_boxes)!=null?O:[]).map(_),h[5]=v.swap_bounding_boxes,h[6]=F}else F=h[6];var B=F,W=x==="CONCORD_EDIT"?M:"",q;h[7]!==v.id||h[8]!==N||h[9]!==$||h[10]!==W||h[11]!==B?(q={boundingBoxes:B,id:v.id,orientation:N,prompt:$,uri:W},h[7]=v.id,h[8]=N,h[9]=$,h[10]=W,h[11]=B,h[12]=q):q=h[12];var U=q,V;h[13]!==v.uri||h[14]!==U||h[15]!==(b==null?void 0:b.KadabraUnifiedCanvasAddPeopleTool_viewer)?(V=n("cr:27458")!=null?c.jsx(n("cr:27458"),{imageUri:v.uri,sourceMedia:U,viewerKey:b==null?void 0:b.KadabraUnifiedCanvasAddPeopleTool_viewer}):void 0,h[13]=v.uri,h[14]=U,h[15]=b==null?void 0:b.KadabraUnifiedCanvasAddPeopleTool_viewer,h[16]=V):V=h[16];var H;h[17]!==v.KadabraUnifiedCanvasAnimateTool_media||h[18]!==v.KadabraUnifiedCanvasBody_media||h[19]!==L||h[20]!==k?(H=k!=null?void 0:c.jsx(r("KadabraUnifiedCanvasAnimateTool.react"),{composerMediaKey:v.KadabraUnifiedCanvasBody_media,mediaKey:v.KadabraUnifiedCanvasAnimateTool_media,messageID:L}),h[17]=v.KadabraUnifiedCanvasAnimateTool_media,h[18]=v.KadabraUnifiedCanvasBody_media,h[19]=L,h[20]=k,h[21]=H):H=h[21];var G;h[22]!==v.id||h[23]!==v.uri||h[24]!==N||h[25]!==P?(G=c.jsx(r("KadabraUnifiedCanvasEditToolImage.react"),{imageOrientation:N,imageUri:v.uri,mediaID:v.id,mediaType:P}),h[22]=v.id,h[23]=v.uri,h[24]=N,h[25]=P,h[26]=G):G=h[26];var z;h[27]!==v.KadabraUnifiedCanvasMusicToolV2_media||h[28]!==U?(z=n("cr:551")!=null?c.jsx(n("cr:551"),{mediaKey:v.KadabraUnifiedCanvasMusicToolV2_media,showLipsyncButton:!0,showMusicButton:!1,showVoiceoverButton:!1,sourceMedia:U}):void 0,h[27]=v.KadabraUnifiedCanvasMusicToolV2_media,h[28]=U,h[29]=z):z=h[29];var j;h[30]!==v.KadabraUnifiedCanvasImagePresetTools_media||h[31]!==v.id||h[32]!==N||h[33]!==P||h[34]!==$?(j=c.jsx(r("KadabraUnifiedCanvasImagePresetTools.react"),{basePrompt:$,imageOrientation:N,mediaID:v.id,mediaKey:v.KadabraUnifiedCanvasImagePresetTools_media,mediaType:P}),h[30]=v.KadabraUnifiedCanvasImagePresetTools_media,h[31]=v.id,h[32]=N,h[33]=P,h[34]=$,h[35]=j):j=h[35];var K;h[36]!==I||h[37]!==v.KadabraUnifiedCanvasBody_media||h[38]!==U?(K=!I||m?c.jsx(r("KadabraUnifiedCanvasPromptToolImageMode.react"),{mediaKey:v.KadabraUnifiedCanvasBody_media,sourceMedia:U}):void 0,h[36]=I,h[37]=v.KadabraUnifiedCanvasBody_media,h[38]=U,h[39]=K):K=h[39];var Q;return h[40]!==j||h[41]!==K||h[42]!==V||h[43]!==H||h[44]!==G||h[45]!==z?(Q=c.jsx(r("KadabraUnifiedCanvasToolPanelImageToolsetLayout.react"),{addPeopleTool:V,animateTool:H,editTool:G,musicToolV2:z,presetTool:j,promptTool:K}),h[40]=j,h[41]=K,h[42]=V,h[43]=H,h[44]=G,h[45]=z,h[46]=Q):Q=h[46],Q}function _(e){var t,n,r,o;return{height:(t=e.height)!=null?t:0,width:(n=e.width)!=null?n:0,x:(r=e.x)!=null?r:0,y:(o=e.y)!=null?o:0}}l.default=p}),98);
__d("KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage_media",selections:[e,{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"orientation",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBGENAIImagineMediaSet",kind:"LinkedField",name:"imagine_media_set",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"base_prompt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null}],storageKey:null},action:"THROW"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasBody_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasBody_media"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasAnimateTool_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasAnimateTool_media"},{args:null,kind:"FragmentSpread",name:"useKadabraUpdateSelectedImageMediaSet_media"}],type:"XFBGenAIImagineUserUploadedImage",abstractKey:null}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage.react",["AbraMessageListItemContext.react","CometRelay","KadabraImagineClientOptionsContext.react","KadabraUnifiedCanvasAnimateTool.react","KadabraUnifiedCanvasEditToolImage.react","KadabraUnifiedCanvasImagePresetTools.react","KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage_media.graphql","KadabraUnifiedCanvasToolPanelImageToolsetLayout.react","react","react-compiler-runtime","useKadabraUpdateSelectedImageMediaSet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useEffect;function d(t){var a,i,l,s,d=o("react-compiler-runtime").c(23),m=t.mediaKey,p=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage_media.graphql"),m),_=r("useKadabraUpdateSelectedImageMediaSet")(p),f=o("AbraMessageListItemContext.react").useAbraMessageListItemContext(),g=f.messageID,h=p==null?void 0:p.imagine_media_set,y=(a=h==null?void 0:h.base_prompt)!=null?a:h==null?void 0:h.prompt,C=(i=p==null?void 0:p.media_type)!=null?i:"UPLOADED_IMAGE",b;d[0]!==_?(b=function(){_()},d[0]=_,d[1]=b):b=d[1];var v;if(d[2]!==p||d[3]!==_?(v=[_,p],d[2]=p,d[3]=_,d[4]=v):v=d[4],c(b,v),h==null||p==null)return null;var S;d[5]!==p.KadabraUnifiedCanvasAnimateTool_media||d[6]!==p.KadabraUnifiedCanvasBody_media||d[7]!==g?(S=u.jsx(r("KadabraUnifiedCanvasAnimateTool.react"),{composerMediaKey:p.KadabraUnifiedCanvasBody_media,mediaKey:p.KadabraUnifiedCanvasAnimateTool_media,messageID:g}),d[5]=p.KadabraUnifiedCanvasAnimateTool_media,d[6]=p.KadabraUnifiedCanvasBody_media,d[7]=g,d[8]=S):S=d[8];var R=(l=p.orientation)!=null?l:o("KadabraImagineClientOptionsContext.react").DEFAULT_ORIENTATION,L;d[9]!==p.id||d[10]!==p.uri||d[11]!==C||d[12]!==R?(L=u.jsx(r("KadabraUnifiedCanvasEditToolImage.react"),{imageOrientation:R,imageUri:p.uri,mediaID:p.id,mediaType:C}),d[9]=p.id,d[10]=p.uri,d[11]=C,d[12]=R,d[13]=L):L=d[13];var E=y!=null?y:"",k=(s=p.orientation)!=null?s:o("KadabraImagineClientOptionsContext.react").DEFAULT_ORIENTATION,I;d[14]!==p.id||d[15]!==C||d[16]!==E||d[17]!==k?(I=u.jsx(r("KadabraUnifiedCanvasImagePresetTools.react"),{basePrompt:E,imageOrientation:k,mediaID:p.id,mediaType:C}),d[14]=p.id,d[15]=C,d[16]=E,d[17]=k,d[18]=I):I=d[18];var T;return d[19]!==S||d[20]!==L||d[21]!==I?(T=u.jsx(r("KadabraUnifiedCanvasToolPanelImageToolsetLayout.react"),{animateTool:S,editTool:L,presetTool:I}),d[19]=S,d[20]=L,d[21]=I,d[22]=T):T=d[22],T}l.default=d}),98);
__d("KadabraUnifiedCanvasToolPanelImageToolset_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelImageToolset_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelImageToolsetForImage_media"}],type:"XFBGENAIImagineImage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"image"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage_media"}],type:"XFBGenAIImagineUserUploadedImage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"upload_image"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelImageToolset_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelImageToolset_viewer",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelImageToolsetForImage_viewer"}],type:"XABABRAViewer",abstractKey:"__isXABABRAViewer"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelImageToolset.react",["CometRelay","KadabraUnifiedCanvasToolPanelImageToolsetForImage.react","KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage.react","KadabraUnifiedCanvasToolPanelImageToolset_media.graphql","KadabraUnifiedCanvasToolPanelImageToolset_viewer.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(7),i=t.mediaKey,l=t.viewerKey,u=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolPanelImageToolset_viewer.graphql"),l),d=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraUnifiedCanvasToolPanelImageToolset_media.graphql"),i),m;a[0]!==(d==null?void 0:d.image)||a[1]!==(d==null?void 0:d.upload_image)||a[2]!==u?(m=function(t){return t==="XFBGENAIImagineImage"?c.jsx(r("KadabraUnifiedCanvasToolPanelImageToolsetForImage.react"),{mediaKey:d==null?void 0:d.image,viewerKey:u}):t==="XFBGenAIImagineUserUploadedImage"?c.jsx(r("KadabraUnifiedCanvasToolPanelImageToolsetForUploadImage.react"),{mediaKey:d==null?void 0:d.upload_image}):null},a[0]=d==null?void 0:d.image,a[1]=d==null?void 0:d.upload_image,a[2]=u,a[3]=m):m=a[3];var p=d==null?void 0:d.__typename,_;return a[4]!==m||a[5]!==p?(_=m(p),a[4]=m,a[5]=p,a[6]=_):_=a[6],_}l.default=d}),98);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetLayout_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetLayout_post",selections:[{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasRemixableActions_post"}],type:"XFBGENAIPost",abstractKey:null};a.exports=e}),null);
__d("useKadabraUnifiedCanvasRemixableActions_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useKadabraUnifiedCanvasRemixableActions_post",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_actions",storageKey:null}],type:"XFBGENAIPost",abstractKey:null};a.exports=e}),null);
__d("useKadabraUnifiedCanvasRemixableActions",["CometRelay","KadabraUnifiedCanvasContext.react","react-compiler-runtime","useKadabraUnifiedCanvasRemixableActions_post.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("react-compiler-runtime").c(26),a=o("CometRelay").useFragment(e!==void 0?e:e=n("useKadabraUnifiedCanvasRemixableActions_post.graphql"),t),i;if(r[0]!==(a==null?void 0:a.viewer_actions)){var l;i=(l=a==null?void 0:a.viewer_actions)!=null?l:[],r[0]=a==null?void 0:a.viewer_actions,r[1]=i}else i=r[1];var s=i,u=o("KadabraUnifiedCanvasContext.react").useKadabraUnifiedCanvasContext(),c=u.isRemix;if(!c){var d;return r[2]===Symbol.for("react.memo_cache_sentinel")?(d={canChangeAnimatePrompt:!1,canChangeImagePrompt:!1,canChangeLipsync:!1,canChangeMusic:!1,canChangeVideoRestylePrompt:!1,canChangeVoiceover:!1,canRemix:!1,canSwap:!1},r[2]=d):d=r[2],d}var m;r[3]!==s?(m=s==null?void 0:s.includes("REMIX_EDIT_ANIMATE_PROMPT"),r[3]=s,r[4]=m):m=r[4];var p=m,_;r[5]!==s?(_=s==null?void 0:s.includes("REMIX_EDIT_PROMPT"),r[5]=s,r[6]=_):_=r[6];var f=_,g;r[7]!==s?(g=s==null?void 0:s.includes("REMIX_CHANGE_MUSIC"),r[7]=s,r[8]=g):g=r[8];var h=g,y;r[9]!==s?(y=s==null?void 0:s.includes("REMIX_RESTYLE"),r[9]=s,r[10]=y):y=r[10];var C=y,b;r[11]!==s?(b=s==null?void 0:s.includes("REMIX_SWAP"),r[11]=s,r[12]=b):b=r[12];var v=b,S;r[13]!==s?(S=s==null?void 0:s.includes("REMIX_CHANGE_LIP_SYNC"),r[13]=s,r[14]=S):S=r[14];var R=S,L;r[15]!==s?(L=s==null?void 0:s.includes("REMIX_CHANGE_VOICE_OVER"),r[15]=s,r[16]=L):L=r[16];var E=L,k=[v,p,f,R,h,C,E].some(Boolean),I;return r[17]!==p||r[18]!==f||r[19]!==R||r[20]!==h||r[21]!==C||r[22]!==E||r[23]!==v||r[24]!==k?(I={canChangeAnimatePrompt:p,canChangeImagePrompt:f,canChangeLipsync:R,canChangeMusic:h,canChangeVideoRestylePrompt:C,canChangeVoiceover:E,canRemix:k,canSwap:v},r[17]=p,r[18]=f,r[19]=R,r[20]=h,r[21]=C,r[22]=E,r[23]=v,r[24]=k,r[25]=I):I=r[25],I}l.default=s}),98);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react",["CometRelay","KadabraImagineVideoRootContext","KadabraImagineVideoUtils","KadabraUnifiedCanvasContext.react","KadabraUnifiedCanvasToolPanelBaseLayout.react","KadabraUnifiedCanvasToolPanelContextProvider.react","KadabraUnifiedCanvasToolPanelVideoToolsetLayout_post.graphql","KadabraUnifiedCanvasUtils","react","react-compiler-runtime","useKadabraUnifiedCanvasRemixableActions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.use,m=c.useEffect;function p(t){var a=o("react-compiler-runtime").c(35),i=t.addPeopleTool,l=t.animateTool,s=t.extendAnimationTool,c=t.imagePromptTool,p=t.musicTool,_=t.musicToolV2,f=t.postKey,g=t.presetTool,h=t.submitButton,y=t.unifiedMadlibRemixTool,C=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolPanelVideoToolsetLayout_post.graphql"),f),b=o("KadabraUnifiedCanvasContext.react").useKadabraUnifiedCanvasContext(),v=b.isRemix,S=r("useKadabraUnifiedCanvasRemixableActions")(C),R=S.canChangeAnimatePrompt,L=S.canChangeImagePrompt,E=S.canChangeMusic,k=S.canSwap,I=v&&y,T;a[0]!==L||a[1]!==c||a[2]!==v||a[3]!==y?(T=!y&&o("KadabraUnifiedCanvasUtils").gateComponentForRemix(v,L,c),a[0]=L,a[1]=c,a[2]=v,a[3]=y,a[4]=T):T=a[4];var D;a[5]!==l||a[6]!==R||a[7]!==v||a[8]!==y?(D=!y&&o("KadabraUnifiedCanvasUtils").gateComponentForRemix(v,R,l),a[5]=l,a[6]=R,a[7]=v,a[8]=y,a[9]=D):D=a[9];var x;a[10]!==E||a[11]!==v||a[12]!==p||a[13]!==_?(x=_!=null?_:o("KadabraUnifiedCanvasUtils").gateComponentForRemix(v,E,p),a[10]=E,a[11]=v,a[12]=p,a[13]=_,a[14]=x):x=a[14];var $;a[15]!==i||a[16]!==k||a[17]!==v?($=o("KadabraUnifiedCanvasUtils").gateComponentForRemix(v,k,i),a[15]=i,a[16]=k,a[17]=v,a[18]=$):$=a[18];var P=!v&&s,N=!v&&g,M;a[19]!==I||a[20]!==T||a[21]!==D||a[22]!==x||a[23]!==$||a[24]!==P||a[25]!==N?(M=u.jsxs(u.Fragment,{children:[I,T,D,x,$,P,N]}),a[19]=I,a[20]=T,a[21]=D,a[22]=x,a[23]=$,a[24]=P,a[25]=N,a[26]=M):M=a[26];var w=M,A=o("KadabraUnifiedCanvasToolPanelContextProvider.react").useKadabraUnifiedCanvasToolPanelContext(),F=A.isDisabled,O=A.setIsDisabled,B=d(r("KadabraImagineVideoRootContext")),W=B.videoStatus,q,U;a[27]!==F||a[28]!==O||a[29]!==W?(U=function(){if(W!=null){var e=o("KadabraImagineVideoUtils").isVideoGenGeneratingStatus(W);F!==e&&O(e)}},q=[F,O,W],a[27]=F,a[28]=O,a[29]=W,a[30]=q,a[31]=U):(q=a[30],U=a[31]),m(U,q);var V;return a[32]!==w||a[33]!==h?(V=u.jsx(r("KadabraUnifiedCanvasToolPanelBaseLayout.react"),{footerTools:h,mainTools:w}),a[32]=w,a[33]=h,a[34]=V):V=a[34],V}l.default=p}),98);
__d("KadabraUnifiedCanvasToolPanelNoMediaToolset.react",["KadabraImagineVideoRootContext","KadabraImagineVideoStylerRootImpl.react","KadabraUnifiedCanvasPresetsContext.react","KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react","react","react-compiler-runtime","useKadabraUnifiedCanvasPassedLocalFile"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.use;function c(){var e=o("react-compiler-runtime").c(4),t=o("KadabraUnifiedCanvasPresetsContext.react").useKadabraUnifiedCanvasPresetsContext(),n=t.presetGroupsForV2V,a=r("useKadabraUnifiedCanvasPassedLocalFile")(),i=a.isVideo,l=u(r("KadabraImagineVideoRootContext")),c=l.onPromptChange,d=l.selectedPresetID;if(!i)return null;var m=d!=null?d:"",p;return e[0]!==c||e[1]!==n||e[2]!==m?(p=s.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react"),{presetTool:s.jsx(r("KadabraImagineVideoStylerRootImpl.react"),{onPromptChange:c,presetGroups:n,selectedPresetID:m})}),e[0]=c,e[1]=n,e[2]=m,e[3]=p):p=e[3],p}l.default=c}),98);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null}],type:"XFBGENAIImagineAnimatedVideo",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_post",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetLayout_post"}],type:"XFBGENAIPost",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia.react",["CometRelay","KadabraImagineVideoRootContext","KadabraImagineVideoStylerRootImpl.react","KadabraUnifiedCanvasMusicTool.react","KadabraUnifiedCanvasPresetsContext.react","KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_media.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_post.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.use;function m(t){var a=o("react-compiler-runtime").c(10),i=t.mediaKey,l=t.postKey,u=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_post.graphql"),l),m=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_media.graphql"),i),p=d(r("KadabraImagineVideoRootContext")),_=p.onPromptChange,f=p.selectedPresetID,g=o("KadabraUnifiedCanvasPresetsContext.react").useKadabraUnifiedCanvasPresetsContext(),h=g.presetGroupsForV2V,y=m==null?void 0:m.prompt,C;a[0]!==y?(C=c.jsx(r("KadabraUnifiedCanvasMusicTool.react"),{prompt:y}),a[0]=y,a[1]=C):C=a[1];var b=f!=null?f:"",v;a[2]!==_||a[3]!==h||a[4]!==b?(v=c.jsx(r("KadabraImagineVideoStylerRootImpl.react"),{onPromptChange:_,presetGroups:h,selectedPresetID:b}),a[2]=_,a[3]=h,a[4]=b,a[5]=v):v=a[5];var S;return a[6]!==u||a[7]!==C||a[8]!==v?(S=c.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react"),{musicTool:C,postKey:u,presetTool:v}),a[6]=u,a[7]=C,a[8]=v,a[9]=S):S=a[9],S}l.default=m}),98);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasMusicTool_media"},t={args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasBody_media"};return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__kadabra_media_concord_voice_overrelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_duration_ms",storageKey:null},{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasActions_media"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoI2V_media"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasExtendAnimationTool_video"},e,{condition:"__relay_internal__pv__kadabra_media_concord_voice_overrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasMusicToolV2_videoMedia"}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasMusicToolV2_videoMedia"}]},{alias:null,args:null,kind:"ScalarField",name:"user_prompt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasGetSourceImageData_media"},t,{args:null,kind:"FragmentSpread",name:"useKadabraUpdateSelectedImageMediaSet_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"source_media"}],storageKey:null}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"video"}],storageKey:null},{fragment:{kind:"InlineFragment",selections:[t],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasBody_media"},{fragment:{kind:"InlineFragment",selections:[e],type:"XFBGenAICanProvideMediaEditConfig",abstractKey:"__isXFBGenAICanProvideMediaEditConfig"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasMusicTool_media"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasExtendAnimationTool_composedMedia"}],type:"XFBGENAIImagineComposedMedia",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasExtendAnimationTool_composedMedia"},{kind:"InlineFragment",selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedcanvasGetMusicOverlayData_music"}],type:"XFBGenAICanProvideMediaEditConfig",abstractKey:"__isXFBGenAICanProvideMediaEditConfig"},kind:"AliasedInlineFragmentSpread",name:"useKadabraUnifiedcanvasGetMusicOverlayData_music"}],type:"XFBGenAICanProvideMediaEditConfig",abstractKey:"__isXFBGenAICanProvideMediaEditConfig"}],type:"XFBGENAIImagineComposedMedia",abstractKey:null}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_post",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetLayout_post"},{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasRemixableActions_post"}],type:"XFBGENAIPost",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_sourceMediaOverride.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_sourceMediaOverride",selections:[{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasGetSourceImageData_media"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasBody_media"},{args:null,kind:"FragmentSpread",name:"useKadabraUpdateSelectedImageMediaSet_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__enable_swap_me_on_kadabrarelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_viewer",selections:[{condition:"__relay_internal__pv__enable_swap_me_on_kadabrarelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasAddPeopleTool_viewer"}],type:"XABUser",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasAddPeopleTool_viewer"}]}],type:"XABABRAViewer",abstractKey:"__isXABABRAViewer"};a.exports=e}),null);
__d("KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation_abraRelayOperation",[],(function(t,n,r,o,a,i){a.exports="31873744325602268"}),null);
__d("KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation.graphql",["KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation_abraRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"unified_prompt"}],t=[{alias:null,args:[{kind:"Variable",name:"unified_prompt",variableName:"unified_prompt"}],concreteType:"XFBConcordUnifiedPromptGeneratorResult",kind:"LinkedField",name:"xfb_concord_generate_prompts_from_unified",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"image_prompt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animate_prompt",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation",selections:t},params:{id:n("KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation_abraRelayOperation"),metadata:{},name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery_abraRelayOperation",[],(function(t,n,r,o,a,i){a.exports="32402899465960959"}),null);
__d("KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery.graphql",["KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery_abraRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"animate_prompt"},t={defaultValue:null,kind:"LocalArgument",name:"current_image_id"},r={defaultValue:null,kind:"LocalArgument",name:"current_video_id"},o={defaultValue:null,kind:"LocalArgument",name:"image_prompt"},a=[{alias:null,args:[{kind:"Variable",name:"animate_prompt",variableName:"animate_prompt"},{kind:"Variable",name:"current_image_id",variableName:"current_image_id"},{kind:"Variable",name:"current_video_id",variableName:"current_video_id"},{kind:"Variable",name:"image_prompt",variableName:"image_prompt"}],concreteType:"XFBConcordUnifiedPromptExtractorResult",kind:"LinkedField",name:"xfb_concord_create_unified_prompt_extractor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"extracted_prompt",storageKey:null},{alias:null,args:null,concreteType:"XFBConcordUnifiedPromptExtractorCharacteristic",kind:"LinkedField",name:"characteristics",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,t,r,o],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,e,t,r],kind:"Operation",name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery",selections:a},params:{id:n("KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery_abraRelayOperation"),metadata:{},name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation_abraRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24579148645101025"}),null);
__d("KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation.graphql",["KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation_abraRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{alias:"response",args:[{kind:"Variable",name:"params",variableName:"input"}],concreteType:"XFBAbraImagineRegenerateImageResponse",kind:"LinkedField",name:"xfb_genai_abra_imagine_regenerate_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"gen_ai_image_id",storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIImagineMediaSet",kind:"LinkedField",name:"media_set",plural:!1,selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_media",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response_id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation",selections:r,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation",selections:r},params:{id:n("KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation_abraRelayOperation"),metadata:{},name:"KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasUnifiedMadlibRemixTool.react",["fbt","CometPlaceholder.react","CometRelay","KDSButton.react","KDSFlexbox.react","KDSGlimmer.react","KDSText.react","KDSTextInput.react","KadabraImagineClientOptionsContext.react","KadabraUnifiedCanvasComposerContext.react","KadabraUnifiedCanvasEditorContextProvider.react","KadabraUnifiedCanvasRefetchContext.react","KadabraUnifiedCanvasToolAccordion.react","KadabraUnifiedCanvasToolInputStyles","KadabraUnifiedCanvasToolTextAreaBase.react","KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation.graphql","KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery.graphql","KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation.graphql","kdsWidth","react","react-compiler-runtime","useBoolean","useKadabraInteractionLogger","useKadabraOpenUnifiedCanvas","useKadabraPageLayout","useKadabraUnifiedCanvasComposerDialog","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g=p.useMemo,h=p.useRef,y=p.useState,C={characteristicRow:{alignItems:"x6s0dn4",columnGap:"xfex06f",display:"x78zum5",rowGap:"x3pnbk8",$$css:!0},content:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},glimmerButton:{height:"xc9qbxq",width:"xh8yej3",$$css:!0},glimmerInputField:{flexGrow:"x1iyjqo2",height:"x1vqgdyp",minWidth:"xeuugli",$$css:!0},glimmerKeyLabel:{height:"x1qx5ct2",minWidth:"x6c5l4p",width:"x1dmp6jm",$$css:!0},glimmerLabel:{height:"xlup9mm",width:"xygnafs",$$css:!0},glimmerTextArea:{height:"xwzfr38",width:"xh8yej3",$$css:!0},inputField:{flexGrow:"x1iyjqo2",minWidth:"xeuugli",$$css:!0},keyLabel:{minWidth:"x6c5l4p",$$css:!0}};function b(e){var t=o("react-compiler-runtime").c(12),n=e.animatePrompt,a=e.currentImageId,l=e.currentVideoId,s=e.defaultCollapsed,u=e.imagePrompt,c=e.mediaKey,d=e.onLoadingStateChange,p=e.onNewImageGenerated,_=e.onUpdatePrompts,f=e.sourceMedia,g=s===void 0?!1:s,h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=m.jsx(N,{}),t[0]=h):h=t[0];var y=n!=null?n:"",C=a!=null?a:"",b=l!=null?l:"",S=u!=null?u:"",R;return t[1]!==g||t[2]!==c||t[3]!==d||t[4]!==p||t[5]!==_||t[6]!==f||t[7]!==y||t[8]!==C||t[9]!==b||t[10]!==S?(R=m.jsx(r("CometPlaceholder.react"),{fallback:h,name:i.id,children:m.jsx(v,{_onLoadingStateChange:d,_onNewImageGenerated:p,animatePrompt:y,currentImageId:C,currentVideoId:b,defaultCollapsed:g,imagePrompt:S,mediaKey:c,onUpdatePrompts:_,sourceMedia:f})}),t[1]=g,t[2]=c,t[3]=d,t[4]=p,t[5]=_,t[6]=f,t[7]=y,t[8]=C,t[9]=b,t[10]=S,t[11]=R):R=t[11],R}function v(t){var a,l=o("react-compiler-runtime").c(67),d=t._onLoadingStateChange,p=t._onNewImageGenerated,_=t.animatePrompt,g=t.currentImageId,b=t.currentVideoId,v=t.defaultCollapsed,M=t.imagePrompt,w=t.mediaKey,A=t.onUpdatePrompts,F=t.sourceMedia,O=v===void 0?!1:v,B=r("useRoutePassthroughProps")(),W=B==null?void 0:B.encoded_characteristics,q;if(l[0]!==W){if(q=null,W!=null&&typeof W=="string")try{var U=atob(W);q=JSON.parse(U)}catch(e){}l[0]=W,l[1]=q}else q=l[1];var V=q!=null,H=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("KadabraUnifiedCanvasUnifiedMadlibRemixToolQuery.graphql"),{animate_prompt:_,current_image_id:g,current_video_id:b,image_prompt:M},{fetchKey:V?"skip":void 0,fetchPolicy:V?"store-only":"store-or-network"}),G=V?null:H==null?void 0:H.xfb_concord_create_unified_prompt_extractor,z=(a=G==null?void 0:G.extracted_prompt)!=null?a:"",j;e:{if(q!=null){j=q;break e}var K;if(l[2]!==(G==null?void 0:G.characteristics)){var Q,X;K=(Q=G==null||(X=G.characteristics)==null?void 0:X.map(P))!=null?Q:[],l[2]=G==null?void 0:G.characteristics,l[3]=K}else K=l[3];j=K}var Y=j,J=y(Y),Z=J[0],ee=J[1],te=Z.filter($),ne=y(!1),re=ne[0],oe=ne[1],ae=y(M),ie=ae[0],le=ae[1],se=y(_),ue=se[0],ce=se[1];o("KadabraUnifiedCanvasComposerContext.react").useKadabraUnifiedCanvasComposerContext(),r("useKadabraUnifiedCanvasComposerDialog")(w);var de=r("useKadabraInteractionLogger")(),me=o("KadabraUnifiedCanvasRefetchContext.react").useKadabraUnifiedCanvasRefetch(),pe=me.refetchWithNewSourceOverride,_e;l[4]===Symbol.for("react.memo_cache_sentinel")?(_e=u!==void 0?u:u=n("KadabraUnifiedCanvasUnifiedMadlibRemixToolGeneratorMutation.graphql"),l[4]=_e):_e=l[4];var fe=o("CometRelay").useMutation(_e),ge=fe[0],he;l[5]===Symbol.for("react.memo_cache_sentinel")?(he=c!==void 0?c:c=n("KadabraUnifiedCanvasUnifiedMadlibRemixToolRegenerateMutation.graphql"),l[5]=he):he=l[5];var ye=o("CometRelay").useMutation(he),Ce=ye[0],be=ye[1],ve=o("KadabraUnifiedCanvasEditorContextProvider.react").useKadabraUnifiedCanvasEditorContext(),Se=ve.submitAnimateRequest,Re=y(!1),Le=Re[0],Ee=Re[1],ke=h(null),Ie=r("useKadabraOpenUnifiedCanvas")(),Te=Ie.openUnifiedCanvas,De,xe;l[6]===Symbol.for("react.memo_cache_sentinel")?(De=function(){return(function(){var e;(e=ke.current)==null||e.unsubscribe(),ke.current=null})},xe=[ke],l[6]=De,l[7]=xe):(De=l[6],xe=l[7]),f(De,xe);var $e;e:{if(z===""){var Pe;l[8]!==Z?(Pe=Z.map(x).filter(D).join(" "),l[8]=Z,l[9]=Pe):Pe=l[9],$e=Pe;break e}var Ne;if(l[10]!==(G==null?void 0:G.characteristics)){var Me;Ne=(Me=G==null?void 0:G.characteristics)!=null?Me:[],l[10]=G==null?void 0:G.characteristics,l[11]=Ne}else Ne=l[11];var we;if(l[12]!==Z||l[13]!==z||l[14]!==Ne){var Ae=new Map(Ne.filter(T).map(I)),Fe;l[16]!==Z?(Fe=new Map(Z.map(k)),l[16]=Z,l[17]=Fe):Fe=l[17];var Oe=Fe;we=z,Ae.forEach(function(e,t){var n=Oe.get(t);if(n!=null){var r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp("\\b"+r+"\\b","g"),a=new RegExp("\\["+r+"\\]","g");we.match(a)?we=we.replace(a,"["+n+"]"):we=we.replace(o,"["+n+"]")}}),l[12]=Z,l[13]=z,l[14]=Ne,l[15]=we}else we=l[15];$e=we}var Be=$e,We=r("useKadabraPageLayout")(),qe=We.isMobileLayout,Ue=r("useBoolean")(O||qe),Ve=Ue.toggle,He=Ue.value,Ge=h(!1),ze;l[18]!==Z?(ze=function(t,n){var e=Z.map(function(e,r){return r===t?{key:e.key,value:n}:e});ee(e)},l[18]=Z,l[19]=ze):ze=l[19];var je=ze,Ke;l[20]!==ge||l[21]!==Be||l[22]!==A?(Ke=function(){oe(!0),ge({onCompleted:function(t){var e,n,r,o,a=(e=t==null||(n=t.xfb_concord_generate_prompts_from_unified)==null?void 0:n.image_prompt)!=null?e:"",i=(r=t==null||(o=t.xfb_concord_generate_prompts_from_unified)==null?void 0:o.animate_prompt)!=null?r:"";le(a),ce(i),A==null||A(a,i),oe(!1)},onError:function(){oe(!1)},variables:{unified_prompt:Be}})},l[20]=ge,l[21]=Be,l[22]=A,l[23]=Ke):Ke=l[23];var Qe=Ke,Xe;e:{if(Z.length!==Y.length){Xe=!0;break e}var Ye;if(l[24]!==Z||l[25]!==Y){var Je;l[27]!==Y?(Je=function(t,n){var e=Y[n];return e==null||t.key!==e.key||t.value!==e.value},l[27]=Y,l[28]=Je):Je=l[28],Ye=Z.some(Je),l[24]=Z,l[25]=Y,l[26]=Ye}else Ye=l[26];Xe=Ye}var Ze=Xe,et,tt;l[29]!==d||l[30]!==be?(et=function(){d==null||d(be)},tt=[be,d],l[29]=d,l[30]=be,l[31]=et,l[32]=tt):(et=l[31],tt=l[32]),f(et,tt);var nt,rt;l[33]!==W||l[34]!==Be||l[35]!==Qe||l[36]!==re?(nt=function(){!Ge.current&&Be!==""&&!re&&W==null&&(Ge.current=!0,Qe())},rt=[Be,re,Qe,W],l[33]=W,l[34]=Be,l[35]=Qe,l[36]=re,l[37]=nt,l[38]=rt):(nt=l[37],rt=l[38]),f(nt,rt);var ot;l[39]!==p||l[40]!==Z||l[41]!==Ce||l[42]!==ue||l[43]!==ie||l[44]!==de||l[45]!==pe||l[46]!==F?(ot=function(){var e;F!=null&&(de.log({action_target:"unified_canvas_media",action_type:"click",event_name:"unified_canvas_edit_prompt",imagine_media_info:{media_id:(e=F.id)!=null?e:""}}),Ce({onCompleted:function(t){var e,n=t==null||(e=t.response)==null?void 0:e.gen_ai_image_id;n!=null&&(pe(n,{animatePrompt:ue,characteristics:Z,imagePrompt:ie}),p==null||p(n))},onError:E,variables:{input:{client_mutation_id:"regenerate_"+Date.now(),external_conversation_id:"unified_canvas_"+F.id,image_id:F.id,media_type:"IMAGE",message_id:"msg_"+Date.now(),prompt:ie,suggested_animation_prompt:ue||null}}}))},l[39]=p,l[40]=Z,l[41]=Ce,l[42]=ue,l[43]=ie,l[44]=de,l[45]=pe,l[46]=F,l[47]=ot):ot=l[47];var at=ot,it;l[48]!==ue||l[49]!==de||l[50]!==Te||l[51]!==F||l[52]!==Se?(it=function(){var e,t,n,r;if(F!=null){de.log({action_target:"unified_canvas_media",action_type:"click",event_name:"unified_canvas_edit_prompt",imagine_media_info:{media_id:(e=F.id)!=null?e:""}});var a=Se({imageId:(t=F.id)!=null?t:"",imageOrientation:(n=F.orientation)!=null?n:o("KadabraImagineClientOptionsContext.react").DEFAULT_ORIENTATION,imageSrc:(r=F.uri)!=null?r:"",messageId:"msg_"+Date.now(),musicOverlay:null,prompt:ue});ke.current=a==null?void 0:a.subscribe({complete:function(){Ee(!1)},error:function(){Ee(!1)},next:function(t){if(t.kind==="response"){var e,n=t.value,r=n==null||(e=n.message)==null?void 0:e.generated_media;if((r==null?void 0:r.__typename)==="XFBAbraMessageGeneratedMedia"){var o,a,i=n==null||(o=n.message)==null||(o=o.conversation)==null?void 0:o.id,l=(a=r.media.at(0))==null?void 0:a.id;l!=null&&Te({clearRemix:!0,clearRemixVideoId:!0,media_id:l,onNavigationTransitioning:function(){Ee(!1)},promptIdOverride:i!=null?i:void 0})}}},start:function(){Ee(!0)}})}},l[48]=ue,l[49]=de,l[50]=Te,l[51]=F,l[52]=Se,l[53]=it):it=l[53];var lt=it,st=r("KadabraUnifiedCanvasToolAccordion.react"),ut="",ct;l[54]===Symbol.for("react.memo_cache_sentinel")?(ct=s._(/*BTDS*/"Remix Madlib unificado"),l[54]=ct):ct=l[54];var dt=r("CometPlaceholder.react"),mt;l[55]===Symbol.for("react.memo_cache_sentinel")?(mt=m.jsx(N,{}),l[55]=mt):mt=l[55];var pt=i,_t=re||be||Le?m.jsx(N,{}):m.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:16,xstyle:C.content,children:[m.jsx(r("KDSFlexbox.react"),{direction:"column",gap:8,children:m.jsx(r("KadabraUnifiedCanvasToolTextAreaBase.react"),{isDisabled:!0,onChangeText:L,placeholder:s._(/*BTDS*/"Comando unificado"),value:Be})}),m.jsx(r("KDSFlexbox.react"),{direction:"column",gap:8,children:te.map(function(e,t){var n=Z.findIndex(function(t){return t.key===e.key&&t.value===e.value});return m.jsxs(r("KDSFlexbox.react"),{xstyle:C.characteristicRow,children:[m.jsx(r("KDSText.react"),{color:"secondary",textStyle:"body",xstyle:C.keyLabel,children:e.key}),m.jsx(r("KDSTextInput.react"),{disabled:re,onChangeText:function(t){je(n,t)},placeholder:s._(/*BTDS*/"Valor"),size:"mediumWithoutPadding",value:e.value,xstyle:[C.inputField,o("KadabraUnifiedCanvasToolInputStyles").KadabraUnifiedCanvasToolInputStyles.input]})]},t)})}),m.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:8,children:[m.jsx(r("KDSButton.react"),{isDisabled:!Ze,label:s._(/*BTDS*/"Regenerar comandos"),onPress:Qe,size:"36",variant:"primary",xstyle:r("kdsWidth").fullWidth}),m.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:4,children:[m.jsx(r("KadabraUnifiedCanvasToolTextAreaBase.react"),{isDisabled:!0,onChangeText:R,placeholder:s._(/*BTDS*/"Comando de imagem"),value:ie}),m.jsx(r("KDSButton.react"),{label:s._(/*BTDS*/"Regenerar imagem"),onPress:at,size:"36",xstyle:r("kdsWidth").fullWidth})]}),m.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:4,children:[m.jsx(r("KadabraUnifiedCanvasToolTextAreaBase.react"),{isDisabled:!0,onChangeText:S,placeholder:s._(/*BTDS*/"Comando de v\u00eddeo"),value:ue}),m.jsx(r("KDSButton.react"),{isDisabled:Le,isLoading:Le,label:s._(/*BTDS*/"Regenerar v\u00eddeo"),onPress:lt,size:"36",xstyle:r("kdsWidth").fullWidth})]})]})]}),ft;l[56]!==dt||l[57]!==mt||l[58]!==pt.id||l[59]!==_t?(ft=m.jsx(dt,{fallback:mt,name:pt.id,children:_t}),l[56]=dt,l[57]=mt,l[58]=pt.id,l[59]=_t,l[60]=ft):ft=l[60];var gt;return l[61]!==st||l[62]!==He||l[63]!==ct||l[64]!==ft||l[65]!==Ve?(gt=m.jsx(st,{isCollapsed:He,onToggle:Ve,subtitle:ut,title:ct,children:ft}),l[61]=st,l[62]=He,l[63]=ct,l[64]=ft,l[65]=Ve,l[66]=gt):gt=l[66],gt}function S(){}function R(){}function L(){}function E(e){}function k(e){return[e.key,e.value]}function I(e){var t,n;return[(t=e==null?void 0:e.key)!=null?t:"",(n=e==null?void 0:e.value)!=null?n:""]}function T(e){return(e==null?void 0:e.key)!=null&&(e==null?void 0:e.value)!=null}function D(e){return e!==""}function x(e){return e.key!==""&&e.value!==""?"["+e.value+"]":e.value}function $(e){return e.key!==""}function P(e){var t,n;return{key:(t=e==null?void 0:e.key)!=null?t:"",value:(n=e==null?void 0:e.value)!=null?n:""}}function N(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=m.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:8,children:[m.jsx(r("KDSGlimmer.react"),{xstyle:C.glimmerLabel}),m.jsx(r("KDSGlimmer.react"),{xstyle:C.glimmerTextArea})]}),e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=m.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:16,xstyle:C.content,children:[t,m.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:8,children:[m.jsx(r("KDSGlimmer.react"),{xstyle:C.glimmerLabel}),[0,1,2,3,4].map(M)]}),m.jsx(r("KDSGlimmer.react"),{xstyle:C.glimmerButton})]}),e[1]=n):n=e[1],n}function M(e){return m.jsxs(r("KDSFlexbox.react"),{xstyle:C.characteristicRow,children:[m.jsx(r("KDSGlimmer.react"),{xstyle:C.glimmerKeyLabel}),m.jsx(r("KDSGlimmer.react"),{xstyle:C.glimmerInputField})]},e)}M.displayName=M.name+" [from "+i.id+"]",l.default=b}),226);
__d("useKadabraUnifiedCanvasActions_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useKadabraUnifiedCanvasActions_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_actions",storageKey:null}],type:"XFBGenAIWithViewerActions",abstractKey:"__isXFBGenAIWithViewerActions"};a.exports=e}),null);
__d("useKadabraUnifiedCanvasActions",["CometRelay","react-compiler-runtime","useKadabraUnifiedCanvasActions_media.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("react-compiler-runtime").c(12),a=o("CometRelay").useFragment(e!==void 0?e:e=n("useKadabraUnifiedCanvasActions_media.graphql"),t),i;if(r[0]!==(a==null?void 0:a.viewer_actions)){var l;i=(l=a==null?void 0:a.viewer_actions)!=null?l:[],r[0]=a==null?void 0:a.viewer_actions,r[1]=i}else i=r[1];var s=i,u;r[2]!==s?(u=s==null?void 0:s.includes("IMAGINE_USER_ACTION_ADD_LIP_SYNC"),r[2]=s,r[3]=u):u=r[3];var c=u,d;r[4]!==s?(d=s==null?void 0:s.includes("IMAGINE_USER_ACTION_ADD_MUSIC"),r[4]=s,r[5]=d):d=r[5];var m=d,p;r[6]!==s?(p=s==null?void 0:s.includes("IMAGINE_USER_ACTION_ADD_VOICE_OVER"),r[6]=s,r[7]=p):p=r[7];var _=p,f;return r[8]!==c||r[9]!==m||r[10]!==_?(f={canAddLipsync:c,canAddMusic:m,canAddVoiceover:_},r[8]=c,r[9]=m,r[10]=_,r[11]=f):f=r[11],f}l.default=s}),98);
__d("useKadabraUnifiedCanvasRemixV2",["fbt","AbraMessageListItemContext.react","FBLogger","KDSButton.react","KadabraImagineClientOptionsContext.react","KadabraUnifiedCanvasContext.react","KadabraUnifiedCanvasEditorContextProvider.react","KadabraUnifiedCanvasToolPanelContextProvider.react","err","kdsPushToast","react","react-compiler-runtime","useKadabraOpenUnifiedCanvas"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useState;function m(e,t,n){var a=o("react-compiler-runtime").c(29),i=o("KadabraUnifiedCanvasContext.react").useKadabraUnifiedCanvasContext(),l=i.personalizationMediaItem,u=i.setIsLoading,m=o("KadabraUnifiedCanvasToolPanelContextProvider.react").useKadabraUnifiedCanvasToolPanelContext(),p=m.isDisabled,_=m.setIsDisabled,f=d(n),g=f[0],h=f[1],y=d(null),C=y[0],b=y[1],v=o("KadabraUnifiedCanvasEditorContextProvider.react").useKadabraUnifiedCanvasEditorContext(),S=v.submitAddVoiceRequest,R=v.submitAnimateRequest,L=o("AbraMessageListItemContext.react").useAbraMessageListItemContext(),E=L.messageID,k=d(null),I=k[0],T=k[1],D=r("useKadabraOpenUnifiedCanvas")(),x=D.openUnifiedCanvas,$;a[0]!==x||a[1]!==u||a[2]!==_?($=function(t){if(t.kind==="response"){var e,n=t.value,r=n==null||(e=n.message)==null?void 0:e.generated_media;if((r==null?void 0:r.__typename)==="XFBAbraMessageGeneratedMedia"){var o,a,i=n==null||(o=n.message)==null||(o=o.conversation)==null?void 0:o.id,l=(a=r.media.at(0))==null?void 0:a.KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_returnedMedia.id;l!=null&&x({clearRemix:!0,clearRemixVideoId:!0,media_id:l,onNavigationTransitioning:function(){_(!1),u(!1)},promptIdOverride:i!=null?i:void 0})}}},a[0]=x,a[1]=u,a[2]=_,a[3]=$):$=a[3];var P=$,N;a[4]!==t||a[5]!==E||a[6]!==P||a[7]!==(l==null?void 0:l.id)||a[8]!==(l==null?void 0:l.uri)||a[9]!==g||a[10]!==I||a[11]!==C||a[12]!==u||a[13]!==_||a[14]!==e||a[15]!==S||a[16]!==R?(N=function(){if(e==null){r("FBLogger")("kadabra").mustfix("No source image media data for remix"),o("kdsPushToast").pushGenericErrorToast(r("err")("No source image media data for remix"));return}if((C==null?void 0:C.speechAudio)!=null||(C==null?void 0:C.musicOverlay)!=null){var n;if((C==null?void 0:C.speechAudio)!=null){var a;n={audioEntId:C.speechAudio.audioEntId,duration:C.speechAudio.duration,imageId:(a=C.sourceMediaId)!=null?a:e.id,intent:C.intent,text:C.text}}else if((C==null?void 0:C.musicOverlay)!=null){var i;n={imageId:(i=C.sourceMediaId)!=null?i:e.id,intent:C.intent,musicOverlay:C.musicOverlay,text:C.text}}else{r("FBLogger")("kadabra").mustfix("Malformed remix speech data"),o("kdsPushToast").pushGenericErrorToast(r("err")("No speech audio or music provided"));return}var s=S(n);s==null||s.subscribe({complete:function(){u(!1),_(!1)},error:function(){u(!1),_(!1)},next:P,start:function(){u(!0),_(!0)}})}else{var c,d,m,p,f=R({imageId:(c=l==null?void 0:l.id)!=null?c:e.id,imageOrientation:(d=e.orientation)!=null?d:o("KadabraImagineClientOptionsContext.react").DEFAULT_ORIENTATION,imageSrc:(m=l==null?void 0:l.uri)!=null?m:e.uri,messageId:E!=null?E:"",musicOverlay:g,prompt:""+((p=I!=null?I:t)!=null?p:"")});f==null||f.subscribe({complete:function(){u(!1),_(!1)},error:function(){u(!1),_(!1)},next:P,start:function(){u(!0),_(!0)}})}},a[4]=t,a[5]=E,a[6]=P,a[7]=l==null?void 0:l.id,a[8]=l==null?void 0:l.uri,a[9]=g,a[10]=I,a[11]=C,a[12]=u,a[13]=_,a[14]=e,a[15]=S,a[16]=R,a[17]=N):N=a[17];var M=N,w=p===!0,A;a[18]===Symbol.for("react.memo_cache_sentinel")?(A=s._(/*BTDS*/"Remixar"),a[18]=A):A=a[18];var F;a[19]!==M?(F=function(){M()},a[19]=M,a[20]=F):F=a[20];var O;a[21]!==w||a[22]!==F?(O=c.jsx(r("KDSButton.react"),{isLoading:w,label:A,onPress:F,size:"36",variant:"primary"}),a[21]=w,a[22]=F,a[23]=O):O=a[23];var B=O,W;return a[24]!==B||a[25]!==g||a[26]!==I||a[27]!==C?(W={remixButton:B,remixMusic:g,remixPrompt:I,remixSpeech:C,setRemixMusic:h,setRemixPrompt:T,setRemixSpeech:b},a[24]=B,a[25]=g,a[26]=I,a[27]=C,a[28]=W):W=a[28],W}l.default=m}),226);
__d("useKadabraUnifiedcanvasGetMusicOverlayData_music.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],n={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"display_title",plural:!1,selections:t,storageKey:null},r={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"display_artist",plural:!1,selections:t,storageKey:null},o=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],a={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"display_image",plural:!1,selections:o,storageKey:null},i={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_artwork",plural:!1,selections:o,storageKey:null},l=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],s={alias:null,args:null,concreteType:"AudioEncoding",kind:"LinkedField",name:"progressive_download",plural:!0,selections:l,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"duration_in_ms",storageKey:null},c=[{alias:null,args:null,concreteType:"XFBGenAIMusicClip",kind:"LinkedField",name:"music_clip",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null},{alias:null,args:null,concreteType:"MusicSong",kind:"LinkedField",name:"music_song",plural:!1,selections:[{alias:null,args:null,concreteType:"AudioAsset",kind:"LinkedField",name:"audio_asset",plural:!1,selections:[e,n,r,a,i,s,u],storageKey:null}],storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useKadabraUnifiedcanvasGetMusicOverlayData_music",selections:[e,{alias:null,args:null,concreteType:"XFBGenAIImagineMediaEditConfig",kind:"LinkedField",name:"media_edit_config",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGenAIAudioTrackAndAvailability",kind:"LinkedField",name:"music_clip_and_availability",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"audio_overlays",plural:!0,selections:[{kind:"InlineFragment",selections:[i,e,s,r,n,a,u],type:"MusicSong",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:[{kind:"Literal",name:"width",value:256}],concreteType:"Image",kind:"LinkedField",name:"display_image",plural:!1,selections:o,storageKey:"display_image(width:256)"},n,{alias:null,args:null,concreteType:"AudioEncoding",kind:"LinkedField",name:"audio_encodings",plural:!0,selections:l,storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null}],type:"CustomAudioAsset",abstractKey:null}],storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIAudioTrackAndAvailability",kind:"LinkedField",name:"music_clips",plural:!0,selections:c,storageKey:null}],type:"XFBGenAIMediaWithMusicClips",abstractKey:"__isXFBGenAIMediaWithMusicClips"}],type:"XFBGenAICanProvideMediaEditConfig",abstractKey:"__isXFBGenAICanProvideMediaEditConfig"}})();a.exports=e}),null);
__d("useKadabraUnifiedcanvasGetMusicOverlayData.react",["CometRelay","react-compiler-runtime","useKadabraUnifiedcanvasGetMusicOverlayData_music.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){var a,i,l,s,u=o("react-compiler-runtime").c(24),c=o("CometRelay").useFragment(e!==void 0?e:e=n("useKadabraUnifiedcanvasGetMusicOverlayData_music.graphql"),t),d=(a=c==null||(i=c.media_edit_config)==null||(i=i.music_clip_and_availability)==null?void 0:i.music_clip)!=null?a:c==null||(l=c.music_clips)==null||(l=l[0])==null?void 0:l.music_clip;if(d!=null){var m,p,_,f,g,h,y,C,b,v,S,R=d==null||(m=d.music_song)==null?void 0:m.audio_asset,L=d==null?void 0:d.start_time_ms,E=(p=d==null?void 0:d.end_time_ms)!=null?p:R==null?void 0:R.duration_in_ms,k=R==null?void 0:R.duration_in_ms;if(E==null||L==null||k==null)return null;var I=(_=R==null||(f=R.display_artist)==null?void 0:f.text)!=null?_:"",T;if(u[0]!==(R==null?void 0:R.progressive_download)){var D,x,$;T=(D=(x=(($=R==null?void 0:R.progressive_download)!=null?$:[])[0])==null?void 0:x.url)!=null?D:"",u[0]=R==null?void 0:R.progressive_download,u[1]=T}else T=u[1];var P=(g=R==null||(h=R.cover_artwork)==null?void 0:h.uri)!=null?g:"",N=(y=R==null?void 0:R.id)!=null?y:"",M=(C=R==null||(b=R.display_image)==null?void 0:b.uri)!=null?C:"",w=(v=R==null||(S=R.display_title)==null?void 0:S.text)!=null?v:"",A;return u[2]!==k||u[3]!==E||u[4]!==L||u[5]!==I||u[6]!==T||u[7]!==P||u[8]!==N||u[9]!==M||u[10]!==w?(A={artist:I,audioUri:T,coverUri:P,endTimeMs:E,id:N,largeCoverUri:M,startTimeMs:L,title:w,trackDurationMs:k},u[2]=k,u[3]=E,u[4]=L,u[5]=I,u[6]=T,u[7]=P,u[8]=N,u[9]=M,u[10]=w,u[11]=A):A=u[11],A}var F=c==null||(s=c.media_edit_config)==null||(s=s.audio_overlays)==null?void 0:s[0];if(F!=null){var O,B,W,q=(O=F==null||(B=F.display_artist)==null?void 0:B.text)!=null?O:F==null?void 0:F.creator_name,U=F==null||(W=F.display_title)==null?void 0:W.text,V=F==null?void 0:F.duration_in_ms,H=r!=null?r:F==null?void 0:F.duration_in_ms;if(H==null||V==null)return null;if(q!=null&&U!=null){var G,z,j,K,Q,X,Y,J;if(u[12]!==(F==null?void 0:F.audio_encodings)||u[13]!==(F==null?void 0:F.progressive_download)){var Z,ee,te,ne;J=(Z=(ee=((te=(ne=F==null?void 0:F.progressive_download)!=null?ne:F==null?void 0:F.audio_encodings)!=null?te:[])[0])==null?void 0:ee.url)!=null?Z:"",u[12]=F==null?void 0:F.audio_encodings,u[13]=F==null?void 0:F.progressive_download,u[14]=J}else J=u[14];var re=(G=(z=F==null||(j=F.cover_artwork)==null?void 0:j.uri)!=null?z:F==null||(K=F.display_image)==null?void 0:K.uri)!=null?G:"",oe=(Q=F==null?void 0:F.id)!=null?Q:"",ae=(X=F==null||(Y=F.display_image)==null?void 0:Y.uri)!=null?X:"",ie;return u[15]!==q||u[16]!==U||u[17]!==V||u[18]!==H||u[19]!==J||u[20]!==re||u[21]!==oe||u[22]!==ae?(ie={artist:q,audioUri:J,coverUri:re,endTimeMs:H,id:oe,largeCoverUri:ae,startTimeMs:0,title:U,trackDurationMs:V},u[15]=q,u[16]=U,u[17]=V,u[18]=H,u[19]=J,u[20]=re,u[21]=oe,u[22]=ae,u[23]=ie):ie=u[23],ie}}return null}l.default=s}),98);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia.react",["CometRelay","KadabraImagineVideoRootContext","KadabraImagineVideoStylerRootImpl.react","KadabraUnifiedCanvasContext.react","KadabraUnifiedCanvasExtendAnimationTool.react","KadabraUnifiedCanvasMusicTool.react","KadabraUnifiedCanvasPresetsContext.react","KadabraUnifiedCanvasPromptToolImageMode.react","KadabraUnifiedCanvasToolPanelVideoI2V.react","KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_media.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_post.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_sourceMediaOverride.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_viewer.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react","KadabraUnifiedCanvasUnifiedMadlibRemixTool.react","cr:27458","cr:551","gkx","react","react-compiler-runtime","useKadabraUnifiedCanvasActions","useKadabraUnifiedCanvasGetSourceImageData","useKadabraUnifiedCanvasRemixV2","useKadabraUnifiedCanvasRemixableActions","useKadabraUnifiedcanvasGetMusicOverlayData.react","useKadabraUpdateSelectedImageMediaSet","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.use,f=p.useEffect,g=p.useState;function h(t){var a,i,l,d=o("react-compiler-runtime").c(79),p=t.composedMediaKey,h=t.postKey,C=t.sourceMediaOverrideKey,b=t.status,v=t.viewerKey,S=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_viewer.graphql"),v),R=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_post.graphql"),h),L=o("CometRelay").useFragment(u!==void 0?u:u=n("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_media.graphql"),p),E=o("CometRelay").useFragment(c!==void 0?c:c=n("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_sourceMediaOverride.graphql"),C),k=_(r("KadabraImagineVideoRootContext")),I=k.onPromptChange,T=k.selectedPresetID,D=o("KadabraUnifiedCanvasContext.react").useKadabraUnifiedCanvasContext(),x=D.isRemix,$=r("useKadabraUnifiedCanvasRemixableActions")(R),P=$.canChangeLipsync,N=$.canChangeMusic,M=$.canChangeVoiceover,w=r("useKadabraUnifiedCanvasActions")(L),A=w.canAddLipsync,F=w.canAddMusic,O=w.canAddVoiceover,B=o("KadabraUnifiedCanvasPresetsContext.react").useKadabraUnifiedCanvasPresetsContext(),W=B.presetGroupsForV2V,q=L==null||(a=L.source_media)==null?void 0:a.video,U=E!=null?E:q==null||(i=q.source)==null?void 0:i.source_media,V=r("useKadabraUnifiedCanvasGetSourceImageData")(U),H=r("useKadabraUpdateSelectedImageMediaSet")(U),G=r("useKadabraUnifiedcanvasGetMusicOverlayData.react")(L==null?void 0:L.useKadabraUnifiedcanvasGetMusicOverlayData_music,L==null?void 0:L.video_duration_ms),z=r("useKadabraUnifiedCanvasRemixV2")(V,q==null?void 0:q.user_prompt,G),j=z.remixButton,K=z.remixMusic,Q=z.remixPrompt,X=z.setRemixMusic,Y=z.setRemixPrompt,J=z.setRemixSpeech,Z=r("useRoutePassthroughProps")(),ee=typeof(Z==null?void 0:Z.remix_image_prompt)=="string"?Z.remix_image_prompt:null,te=typeof(Z==null?void 0:Z.remix_animate_prompt)=="string"?Z.remix_animate_prompt:null,ne=g(ee),re=ne[0],oe=ne[1],ae,ie;d[0]!==te||d[1]!==ee||d[2]!==Y?(ae=function(){ee!=null&&oe(ee),te!=null&&(Y==null||Y(te))},ie=[ee,te,Y],d[0]=te,d[1]=ee,d[2]=Y,d[3]=ae,d[4]=ie):(ae=d[3],ie=d[4]),f(ae,ie);var le;d[5]!==U||d[6]!==H?(le=function(){U!=null&&H()},d[5]=U,d[6]=H,d[7]=le):le=d[7];var se;if(d[8]!==V||d[9]!==U||d[10]!==H?(se=[U,H,V],d[8]=V,d[9]=U,d[10]=H,d[11]=se):se=d[11],f(le,se),q==null)return null;var ue=r("gkx")("11509"),ce;d[12]!==(L==null?void 0:L.id)||d[13]!==re||d[14]!==V||d[15]!==(S==null?void 0:S.KadabraUnifiedCanvasAddPeopleTool_viewer)?(ce=V!=null&&n("cr:27458")!=null?m.jsx(n("cr:27458"),{promptOverride:re,remixVideoId:L==null?void 0:L.id,sourceMedia:V,viewerKey:S==null?void 0:S.KadabraUnifiedCanvasAddPeopleTool_viewer}):void 0,d[12]=L==null?void 0:L.id,d[13]=re,d[14]=V,d[15]=S==null?void 0:S.KadabraUnifiedCanvasAddPeopleTool_viewer,d[16]=ce):ce=d[16];var de;d[17]!==x||d[18]!==Q||d[19]!==Y||d[20]!==V||d[21]!==q?(de=V!=null?m.jsx(r("KadabraUnifiedCanvasToolPanelVideoI2V.react"),{defaultCollapsed:x&&ue,isBatchApplyEnabled:x,mediaKey:q,promptOverride:Q,setPromptOverride:Y,sourceMedia:V}):void 0,d[17]=x,d[18]=Q,d[19]=Y,d[20]=V,d[21]=q,d[22]=de):de=d[22];var me;d[23]!==(L==null?void 0:L.KadabraUnifiedCanvasExtendAnimationTool_composedMedia)||d[24]!==V||d[25]!==q?(me=V!=null?m.jsx(r("KadabraUnifiedCanvasExtendAnimationTool.react"),{composedMediaKey:L==null?void 0:L.KadabraUnifiedCanvasExtendAnimationTool_composedMedia,messageId:"",videoMediaKey:q}):void 0,d[23]=L==null?void 0:L.KadabraUnifiedCanvasExtendAnimationTool_composedMedia,d[24]=V,d[25]=q,d[26]=me):me=d[26];var pe;d[27]!==(L==null?void 0:L.id)||d[28]!==x||d[29]!==re||d[30]!==V||d[31]!==U?(pe=V!=null?m.jsx(r("KadabraUnifiedCanvasPromptToolImageMode.react"),{defaultCollapsed:x&&ue,isBatchApplyEnabled:x,mediaKey:U,promptOverride:re,remixVideoId:L==null?void 0:L.id,renderLoaderOnSubmit:x,sourceMedia:V}):void 0,d[27]=L==null?void 0:L.id,d[28]=x,d[29]=re,d[30]=V,d[31]=U,d[32]=pe):pe=d[32];var _e=b==="PENDING",fe=(l=L==null?void 0:L.KadabraUnifiedCanvasMusicTool_media)!=null?l:q,ge=V==null?void 0:V.prompt,he=x?K:G,ye=x?X:void 0,Ce;d[33]!==x||d[34]!==fe||d[35]!==ge||d[36]!==he||d[37]!==ye||d[38]!==_e?(Ce=m.jsx(r("KadabraUnifiedCanvasMusicTool.react"),{isBatchApplyEnabled:x,isLoading:_e,mediaKey:fe,prompt:ge,selectedMusic:he,setSelectedMusic:ye}),d[33]=x,d[34]=fe,d[35]=ge,d[36]=he,d[37]=ye,d[38]=_e,d[39]=Ce):Ce=d[39];var be;d[40]!==A||d[41]!==F||d[42]!==O||d[43]!==P||d[44]!==N||d[45]!==M||d[46]!==G||d[47]!==x||d[48]!==K||d[49]!==X||d[50]!==J||d[51]!==V||d[52]!==b||d[53]!==(q==null?void 0:q.KadabraUnifiedCanvasMusicToolV2_videoMedia)?(be=V!=null&&n("cr:551")!=null?m.jsx(n("cr:551"),{isBatchApplyEnabled:x,isLoading:b==="PENDING",isRemix:x,prompt:V==null?void 0:V.prompt,selectedMusic:x?K:G,setRemixSpeech:J,setSelectedMusic:x?X:void 0,showLipsyncButton:x?P:A,showMusicButton:x?N:F,showVoiceoverButton:x?M:O,sourceMedia:V,videoMediaKey:q==null?void 0:q.KadabraUnifiedCanvasMusicToolV2_videoMedia}):void 0,d[40]=A,d[41]=F,d[42]=O,d[43]=P,d[44]=N,d[45]=M,d[46]=G,d[47]=x,d[48]=K,d[49]=X,d[50]=J,d[51]=V,d[52]=b,d[53]=q==null?void 0:q.KadabraUnifiedCanvasMusicToolV2_videoMedia,d[54]=be):be=d[54];var ve=T!=null?T:"",Se;d[55]!==I||d[56]!==W||d[57]!==ve?(Se=m.jsx(r("KadabraImagineVideoStylerRootImpl.react"),{onPromptChange:I,presetGroups:W,selectedPresetID:ve}),d[55]=I,d[56]=W,d[57]=ve,d[58]=Se):Se=d[58];var Re=x&&!ue?j:void 0,Le;d[59]!==(L==null?void 0:L.id)||d[60]!==x||d[61]!==te||d[62]!==ee||d[63]!==Y||d[64]!==V||d[65]!==U||d[66]!==(q==null?void 0:q.user_prompt)?(Le=x&&ue?m.jsx(r("KadabraUnifiedCanvasUnifiedMadlibRemixTool.react"),{animatePrompt:te!=null?te:q==null?void 0:q.user_prompt,currentImageId:V==null?void 0:V.id,currentVideoId:L==null?void 0:L.id,imagePrompt:ee!=null?ee:V==null?void 0:V.prompt,mediaKey:U,onNewImageGenerated:y,onUpdatePrompts:function(t,n){oe(t),Y==null||Y(n)},sourceMedia:V}):void 0,d[59]=L==null?void 0:L.id,d[60]=x,d[61]=te,d[62]=ee,d[63]=Y,d[64]=V,d[65]=U,d[66]=q==null?void 0:q.user_prompt,d[67]=Le):Le=d[67];var Ee;return d[68]!==R||d[69]!==Ce||d[70]!==be||d[71]!==Se||d[72]!==Re||d[73]!==Le||d[74]!==ce||d[75]!==de||d[76]!==me||d[77]!==pe?(Ee=m.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react"),{addPeopleTool:ce,animateTool:de,extendAnimationTool:me,imagePromptTool:pe,musicTool:Ce,musicToolV2:be,postKey:R,presetTool:Se,submitButton:Re,unifiedMadlibRemixTool:Le}),d[68]=R,d[69]=Ce,d[70]=be,d[71]=Se,d[72]=Re,d[73]=Le,d[74]=ce,d[75]=de,d[76]=me,d[77]=pe,d[78]=Ee):Ee=d[78],Ee}function y(e){}l.default=h}),98);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasBody_media"};return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__kadabra_media_concord_voice_overrelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_media",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoI2V_media"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasExtendAnimationTool_video"},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedcanvasGetMusicOverlayData_music"}],type:"XFBGenAICanProvideMediaEditConfig",abstractKey:"__isXFBGenAICanProvideMediaEditConfig"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasMusicTool_media"},{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasActions_media"},{alias:null,args:null,kind:"ScalarField",name:"user_prompt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasGetSourceImageData_media"},e,{args:null,kind:"FragmentSpread",name:"useKadabraUpdateSelectedImageMediaSet_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"source_media"}],storageKey:null},{fragment:{kind:"InlineFragment",selections:[e],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasBody_media"},{condition:"__relay_internal__pv__kadabra_media_concord_voice_overrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasMusicToolV2_videoMedia"}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasMusicToolV2_videoMedia"}]}],type:"XFBGENAIVideoGen",abstractKey:null}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_post",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetLayout_post"},{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasRemixableActions_post"}],type:"XFBGENAIPost",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_returnedMedia.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_returnedMedia",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_sourceMediaOverride.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_sourceMediaOverride",selections:[{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasGetSourceImageData_media"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasBody_media"},{args:null,kind:"FragmentSpread",name:"useKadabraUpdateSelectedImageMediaSet_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__enable_swap_me_on_kadabrarelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_viewer",selections:[{condition:"__relay_internal__pv__enable_swap_me_on_kadabrarelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasAddPeopleTool_viewer"}],type:"XABUser",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasAddPeopleTool_viewer"}]}],type:"XABABRAViewer",abstractKey:"__isXABABRAViewer"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen.react",["CometRelay","KadabraImagineVideoRootContext","KadabraImagineVideoStylerRootImpl.react","KadabraUnifiedCanvasContext.react","KadabraUnifiedCanvasExtendAnimationTool.react","KadabraUnifiedCanvasMusicTool.react","KadabraUnifiedCanvasPresetsContext.react","KadabraUnifiedCanvasPromptToolImageMode.react","KadabraUnifiedCanvasToolPanelVideoI2V.react","KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_media.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_post.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_returnedMedia.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_sourceMediaOverride.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_viewer.graphql","KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react","KadabraUnifiedCanvasUnifiedMadlibRemixTool.react","cr:27458","cr:551","gkx","react","react-compiler-runtime","useKadabraUnifiedCanvasActions","useKadabraUnifiedCanvasGetSourceImageData","useKadabraUnifiedCanvasRemixV2","useKadabraUnifiedCanvasRemixableActions","useKadabraUnifiedcanvasGetMusicOverlayData.react","useKadabraUpdateSelectedImageMediaSet","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=m||(m=o("react")),_=m,f=_.use,g=_.useEffect,h=_.useState,y=r("gkx")("6835");e!==void 0||(e=n("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_returnedMedia.graphql"));function C(e){var t,a=o("react-compiler-runtime").c(76),i=e.postKey,l=e.sourceMediaOverrideKey,m=e.videoKey,_=e.viewerKey,C=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_viewer.graphql"),_),v=o("CometRelay").useFragment(u!==void 0?u:u=n("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_post.graphql"),i),S=o("CometRelay").useFragment(c!==void 0?c:c=n("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_media.graphql"),m),R=o("CometRelay").useFragment(d!==void 0?d:d=n("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_sourceMediaOverride.graphql"),l),L=r("gkx")("11509"),E=o("KadabraUnifiedCanvasContext.react").useKadabraUnifiedCanvasContext(),k=E.isRemix,I=r("useKadabraUnifiedCanvasRemixableActions")(v),T=I.canChangeLipsync,D=I.canChangeMusic,x=I.canChangeVoiceover,$=r("useKadabraUnifiedCanvasActions")(S),P=$.canAddLipsync,N=$.canAddMusic,M=$.canAddVoiceover,w=f(r("KadabraImagineVideoRootContext")),A=w.onPromptChange,F=w.selectedPresetID,O=o("KadabraUnifiedCanvasPresetsContext.react").useKadabraUnifiedCanvasPresetsContext(),B=O.presetGroupsForV2V,W=r("useKadabraUnifiedcanvasGetMusicOverlayData.react")(S),q=R!=null?R:S==null||(t=S.source)==null?void 0:t.source_media,U=r("useKadabraUnifiedCanvasGetSourceImageData")(q),V=r("useKadabraUpdateSelectedImageMediaSet")(q),H=r("useKadabraUnifiedCanvasRemixV2")(U,S==null?void 0:S.user_prompt,W),G=H.remixButton,z=H.remixMusic,j=H.remixPrompt,K=H.setRemixMusic,Q=H.setRemixPrompt,X=r("useRoutePassthroughProps")(),Y=typeof(X==null?void 0:X.remix_image_prompt)=="string"?X.remix_image_prompt:null,J=typeof(X==null?void 0:X.remix_animate_prompt)=="string"?X.remix_animate_prompt:null,Z=h(Y),ee=Z[0],te=Z[1],ne=y&&!k,re,oe;a[0]!==J||a[1]!==Y||a[2]!==Q?(re=function(){Y!=null&&te(Y),J!=null&&(Q==null||Q(J))},oe=[Y,J,Q],a[0]=J,a[1]=Y,a[2]=Q,a[3]=re,a[4]=oe):(re=a[3],oe=a[4]),g(re,oe);var ae;a[5]!==q||a[6]!==V?(ae=function(){q!=null&&V()},a[5]=q,a[6]=V,a[7]=ae):ae=a[7];var ie;if(a[8]!==U||a[9]!==q||a[10]!==V?(ie=[q,V,U],a[8]=U,a[9]=q,a[10]=V,a[11]=ie):ie=a[11],g(ae,ie),S==null)return null;var le;a[12]!==j||a[13]!==U||a[14]!==(S==null?void 0:S.id)||a[15]!==(C==null?void 0:C.KadabraUnifiedCanvasAddPeopleTool_viewer)?(le=U!=null&&n("cr:27458")!=null?p.jsx(n("cr:27458"),{promptOverride:j,remixVideoId:S==null?void 0:S.id,sourceMedia:U,viewerKey:C==null?void 0:C.KadabraUnifiedCanvasAddPeopleTool_viewer}):void 0,a[12]=j,a[13]=U,a[14]=S==null?void 0:S.id,a[15]=C==null?void 0:C.KadabraUnifiedCanvasAddPeopleTool_viewer,a[16]=le):le=a[16];var se;a[17]!==k||a[18]!==j||a[19]!==Q||a[20]!==U||a[21]!==S?(se=U!=null?p.jsx(r("KadabraUnifiedCanvasToolPanelVideoI2V.react"),{defaultCollapsed:k&&L,isBatchApplyEnabled:k,mediaKey:S,promptOverride:j,setPromptOverride:Q,sourceMedia:U}):void 0,a[17]=k,a[18]=j,a[19]=Q,a[20]=U,a[21]=S,a[22]=se):se=a[22];var ue;a[23]!==U||a[24]!==S?(ue=U!=null?p.jsx(r("KadabraUnifiedCanvasExtendAnimationTool.react"),{messageId:"",videoMediaKey:S}):void 0,a[23]=U,a[24]=S,a[25]=ue):ue=a[25];var ce;a[26]!==ne||a[27]!==k||a[28]!==ee||a[29]!==U||a[30]!==q||a[31]!==(S==null?void 0:S.id)?(ce=U!=null&&!ne?p.jsx(r("KadabraUnifiedCanvasPromptToolImageMode.react"),{defaultCollapsed:k&&L,isBatchApplyEnabled:k,mediaKey:q,promptOverride:ee,remixVideoId:S==null?void 0:S.id,renderLoaderOnSubmit:k,sourceMedia:U}):void 0,a[26]=ne,a[27]=k,a[28]=ee,a[29]=U,a[30]=q,a[31]=S==null?void 0:S.id,a[32]=ce):ce=a[32];var de=U==null?void 0:U.prompt,me=k?z:W,pe=k?K:void 0,_e;a[33]!==k||a[34]!==me||a[35]!==pe||a[36]!==de||a[37]!==S?(_e=p.jsx(r("KadabraUnifiedCanvasMusicTool.react"),{isBatchApplyEnabled:k,mediaKey:S,prompt:de,selectedMusic:me,setSelectedMusic:pe}),a[33]=k,a[34]=me,a[35]=pe,a[36]=de,a[37]=S,a[38]=_e):_e=a[38];var fe;a[39]!==P||a[40]!==N||a[41]!==M||a[42]!==T||a[43]!==D||a[44]!==x||a[45]!==W||a[46]!==k||a[47]!==z||a[48]!==K||a[49]!==U||a[50]!==S?(fe=U!=null&&n("cr:551")!=null?p.jsx(n("cr:551"),{isBatchApplyEnabled:k,isRemix:k,prompt:U==null?void 0:U.prompt,selectedMusic:k?z:W,setSelectedMusic:k?K:void 0,showLipsyncButton:k?T:P,showMusicButton:k?D:N,showVoiceoverButton:k?x:M,sourceMedia:U,videoMediaKey:S.KadabraUnifiedCanvasMusicToolV2_videoMedia}):void 0,a[39]=P,a[40]=N,a[41]=M,a[42]=T,a[43]=D,a[44]=x,a[45]=W,a[46]=k,a[47]=z,a[48]=K,a[49]=U,a[50]=S,a[51]=fe):fe=a[51];var ge=F!=null?F:"",he;a[52]!==A||a[53]!==B||a[54]!==ge?(he=p.jsx(r("KadabraImagineVideoStylerRootImpl.react"),{onPromptChange:A,presetGroups:B,selectedPresetID:ge}),a[52]=A,a[53]=B,a[54]=ge,a[55]=he):he=a[55];var ye=k&&!L?G:void 0,Ce;a[56]!==k||a[57]!==J||a[58]!==Y||a[59]!==Q||a[60]!==U||a[61]!==q||a[62]!==(S==null?void 0:S.id)||a[63]!==(S==null?void 0:S.user_prompt)?(Ce=k&&L?p.jsx(r("KadabraUnifiedCanvasUnifiedMadlibRemixTool.react"),{animatePrompt:J!=null?J:S==null?void 0:S.user_prompt,currentImageId:U==null?void 0:U.id,currentVideoId:S==null?void 0:S.id,imagePrompt:Y!=null?Y:U==null?void 0:U.prompt,mediaKey:q,onNewImageGenerated:b,onUpdatePrompts:function(t,n){te(t),Q==null||Q(n)},sourceMedia:U}):void 0,a[56]=k,a[57]=J,a[58]=Y,a[59]=Q,a[60]=U,a[61]=q,a[62]=S==null?void 0:S.id,a[63]=S==null?void 0:S.user_prompt,a[64]=Ce):Ce=a[64];var be;return a[65]!==v||a[66]!==_e||a[67]!==fe||a[68]!==he||a[69]!==ye||a[70]!==Ce||a[71]!==le||a[72]!==se||a[73]!==ue||a[74]!==ce?(be=p.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolsetLayout.react"),{addPeopleTool:le,animateTool:se,extendAnimationTool:ue,imagePromptTool:ce,musicTool:_e,musicToolV2:fe,postKey:v,presetTool:he,submitButton:ye,unifiedMadlibRemixTool:Ce}),a[65]=v,a[66]=_e,a[67]=fe,a[68]=he,a[69]=ye,a[70]=Ce,a[71]=le,a[72]=se,a[73]=ue,a[74]=ce,a[75]=be):be=a[75],be}function b(e){}l.default=C}),98);
__d("KadabraUnifiedCanvasToolPanelVideoToolset_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolset_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_media"}],type:"XFBGENAIImagineComposedMedia",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"composed_media"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_media"}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"video_gen"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_media"}],type:"XFBGENAIImagineAnimatedVideo",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"animated_video"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolset_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolset_post",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_post"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_post"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia_post"}],type:"XFBGENAIPost",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolset_sourceMediaOverride.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolset_sourceMediaOverride",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_sourceMediaOverride"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_sourceMediaOverride"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolset_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolPanelVideoToolset_viewer",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia_viewer"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen_viewer"}],type:"XABABRAViewer",abstractKey:"__isXABABRAViewer"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolPanelVideoToolset.react",["CometRelay","KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia.react","KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia.react","KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen.react","KadabraUnifiedCanvasToolPanelVideoToolset_media.graphql","KadabraUnifiedCanvasToolPanelVideoToolset_post.graphql","KadabraUnifiedCanvasToolPanelVideoToolset_sourceMediaOverride.graphql","KadabraUnifiedCanvasToolPanelVideoToolset_viewer.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react"));function p(t){var a=o("react-compiler-runtime").c(11),i=t.mediaKey,l=t.postKey,d=t.sourceMediaOverrideKey,p=t.status,_=t.viewerKey,f=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolPanelVideoToolset_viewer.graphql"),_),g=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraUnifiedCanvasToolPanelVideoToolset_post.graphql"),l),h=o("CometRelay").useFragment(u!==void 0?u:u=n("KadabraUnifiedCanvasToolPanelVideoToolset_media.graphql"),i),y=o("CometRelay").useFragment(c!==void 0?c:c=n("KadabraUnifiedCanvasToolPanelVideoToolset_sourceMediaOverride.graphql"),d),C;a[0]!==(h==null?void 0:h.animated_video)||a[1]!==(h==null?void 0:h.composed_media)||a[2]!==(h==null?void 0:h.video_gen)||a[3]!==g||a[4]!==y||a[5]!==p||a[6]!==f?(C=function(t){return t==="XFBGENAIImagineComposedMedia"?m.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolsetForComposedMedia.react"),{composedMediaKey:h==null?void 0:h.composed_media,postKey:g,sourceMediaOverrideKey:y,status:p,viewerKey:f}):t==="XFBGENAIVideoGen"?m.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolsetForVideoGen.react"),{postKey:g,sourceMediaOverrideKey:y,videoKey:h==null?void 0:h.video_gen,viewerKey:f}):t==="XFBGENAIImagineAnimatedVideo"?m.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolsetForAnimatedMedia.react"),{mediaKey:h==null?void 0:h.animated_video,postKey:g}):null},a[0]=h==null?void 0:h.animated_video,a[1]=h==null?void 0:h.composed_media,a[2]=h==null?void 0:h.video_gen,a[3]=g,a[4]=y,a[5]=p,a[6]=f,a[7]=C):C=a[7];var b=h==null?void 0:h.__typename,v;return a[8]!==C||a[9]!==b?(v=C(b),a[8]=C,a[9]=b,a[10]=v):v=a[10],v}l.default=p}),98);
__d("KadabraUnifiedCanvasToolsByMode_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelImageToolset_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},t={kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolset_media"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"};return{argumentDefinitions:[{kind:"RootArgument",name:"remix"}],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolsByMode_media",selections:[{fragment:e,kind:"AliasedInlineFragmentSpread",name:"image"},{fragment:t,kind:"AliasedInlineFragmentSpread",name:"video"},{condition:"remix",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineMediaEditConfig",kind:"LinkedField",name:"media_edit_config",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"input_source_media",plural:!1,selections:[{fragment:e,kind:"AliasedInlineFragmentSpread",name:"editing_image"}],storageKey:null}],storageKey:null}],type:"XFBGenAICanProvideMediaEditConfig",abstractKey:"__isXFBGenAICanProvideMediaEditConfig"}]},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"generated_media_node",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{fragment:t,kind:"AliasedInlineFragmentSpread",name:"video_status"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"}],storageKey:null}],type:"XFBGENAIImagineMediaGenerationStatus",abstractKey:null}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"}})();a.exports=e}),null);
__d("KadabraUnifiedCanvasToolsByMode_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolsByMode_post",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolset_post"}],type:"XFBGENAIPost",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolsByMode_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasToolsByMode_viewer",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelVideoToolset_viewer"},{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasToolPanelImageToolset_viewer"}],type:"XABABRAViewer",abstractKey:"__isXABABRAViewer"};a.exports=e}),null);
__d("KadabraUnifiedCanvasToolsByMode.react",["CometRelay","KadabraUnifiedCanvasToolPanelImageToolset.react","KadabraUnifiedCanvasToolPanelNoMediaToolset.react","KadabraUnifiedCanvasToolPanelUtils","KadabraUnifiedCanvasToolPanelVideoToolset.react","KadabraUnifiedCanvasToolsByMode_media.graphql","KadabraUnifiedCanvasToolsByMode_post.graphql","KadabraUnifiedCanvasToolsByMode_viewer.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react"));function m(t){var a,i,l,c=o("react-compiler-runtime").c(11),m=t.currentMode,p=t.mediaKey,_=t.postKey,f=t.sourceMediaOverrideKey,g=t.viewerKey,h=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasToolsByMode_viewer.graphql"),g),y=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraUnifiedCanvasToolsByMode_post.graphql"),_),C=o("CometRelay").useFragment(u!==void 0?u:u=n("KadabraUnifiedCanvasToolsByMode_media.graphql"),p),b=C==null||(a=C.media_edit_config)==null||(a=a.input_source_media)==null?void 0:a.editing_image;if(C==null){var v;return c[0]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(r("KadabraUnifiedCanvasToolPanelNoMediaToolset.react"),{}),c[0]=v):v=c[0],v}var S=(i=C.generated_media_node)==null?void 0:i.video_status,R=(l=C.generated_media_node)==null||(l=l.generation_status)==null?void 0:l.status,L;return c[1]!==m||c[2]!==b||c[3]!==R||c[4]!==C.image||c[5]!==C.video||c[6]!==y||c[7]!==f||c[8]!==S||c[9]!==h?(L=m===o("KadabraUnifiedCanvasToolPanelUtils").ToolPanelMode.IMAGE?d.jsx(r("KadabraUnifiedCanvasToolPanelImageToolset.react"),{mediaKey:b!=null?b:C.image,viewerKey:h}):d.jsx(r("KadabraUnifiedCanvasToolPanelVideoToolset.react"),{mediaKey:S!=null?S:C.video,postKey:y,sourceMediaOverrideKey:f,status:R,viewerKey:h}),c[1]=m,c[2]=b,c[3]=R,c[4]=C.image,c[5]=C.video,c[6]=y,c[7]=f,c[8]=S,c[9]=h,c[10]=L):L=c[10],L}l.default=m}),98);
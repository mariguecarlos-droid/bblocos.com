;/*FB_PKG_DELIM*/

__d("AlakazamUnifiedCanvasFilmStripImagineContentRenderer_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlakazamUnifiedCanvasFilmStripImagineContentRenderer_data",selections:[{args:null,kind:"FragmentSpread",name:"KadabraMessageImagineOptimisticContentRenderer_data"},{alias:null,args:null,concreteType:"XFBGenAIImagineCard",kind:"LinkedField",name:"imagine",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineSession",kind:"LinkedField",name:"session",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaSet",kind:"LinkedField",name:"media_sets",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_media",plural:!0,selections:[{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_new_media",storageKey:null}]}],type:"XFBGENAIImagineImage",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_favorited_by_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encoded_id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraUnifiedCanvasFilmStripItemImage_media"}],type:"XFBGENAIImagineImage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraUnifiedCanvasFilmStripItemImage_media"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBAbraMessageImagineContent",abstractKey:null};a.exports=e}),null);
__d("KadabraImagineCanvasLoadingAnimation.react",["CometHeroHoldTrigger.react","KDSImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=250,c="xekv6nw-B";function d(e){var t=o("react-compiler-runtime").c(10),n=e.fadeIn,a=e.location,i=e.quality,l=e.shouldHold,u=n===void 0?!0:n,c=a===void 0?"Canvas":a,d=i===void 0?"3x":i,m=l===void 0?!0:l,p="/images/gen_ai/meta_ai/imagine_canvas_shimmer/square/ImagineLoader_WWW_Square_"+c+"_"+d+".gif",_;t[0]!==u?(_={0:{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x10l6tqk x13vifvy xh8yej3"},1:{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x10l6tqk x13vifvy xh8yej3 xs4xyr0 x127lhb5 xa3vuyk"}}[!!u<<0],t[0]=u,t[1]=_):_=t[1];var f;t[2]!==m?(f=m&&s.jsx(r("CometHeroHoldTrigger.react"),{description:"Hold for agent to finish imagining for canvas",hold:!0}),t[2]=m,t[3]=f):f=t[3];var g;t[4]!==p?(g=s.jsx(r("KDSImage.react"),{height:"100%",src:p,testid:void 0,width:"100%"}),t[4]=p,t[5]=g):g=t[5];var h;return t[6]!==_||t[7]!==f||t[8]!==g?(h=s.jsxs("div",babelHelpers.extends({},_,{children:[f,g]})),t[6]=_,t[7]=f,t[8]=g,t[9]=h):h=t[9],h}l.default=d}),98);
__d("KadabraImagineMediaGridItemGlimmer.react",["BaseAspectRatioContainer.react","KDSImageGridItem.react","KadabraImagineLoadingAnimation.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.aspectRatio,a=e.shouldHold,i=e.xstyle,l=e.xstyleContainer,u=n===void 0?1:n,c=a===void 0?!0:a,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={role:"none"},t[0]=d):d=t[0];var m;t[1]!==c?(m=s.jsx(r("KadabraImagineLoadingAnimation.react"),{shouldHold:c,size:24}),t[1]=c,t[2]=m):m=t[2];var p;t[3]!==u||t[4]!==m?(p=s.jsx(r("BaseAspectRatioContainer.react"),{aspectRatio:u,children:m}),t[3]=u,t[4]=m,t[5]=p):p=t[5];var _;return t[6]!==p||t[7]!==i||t[8]!==l?(_=s.jsx(r("KDSImageGridItem.react"),{accessibilityProps:d,xstyle:i,xstyleContainer:l,children:p}),t[6]=p,t[7]=i,t[8]=l,t[9]=_):_=t[9],_}l.default=u}),98);
__d("isImagineCanvasC50GlimmerEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("11890")}l.isImagineCanvasC50GlimmerEnabled=e}),98);
__d("KadabraGenAIImagineSessionOptimistic.react",["BaseAspectRatioContainer.react","KDSFlexbox.react","KDSImageGrid.react","KDSImageGridItem.react","KadabraImagineCanvasLoadingAnimation.react","KadabraImagineMediaGridItemGlimmer.react","KadabraImagineUtils","isImagineCanvasC50GlimmerEnabled","react","react-compiler-runtime","useKadabraPageLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={borderRadiusBottomLeft:{borderEndStartRadius:"x1mjuuw0",$$css:!0},borderRadiusBottomRight:{borderEndEndRadius:"x7omaz0",$$css:!0},borderRadiusTopLeft:{borderStartStartRadius:"x1lq4npb",$$css:!0},borderRadiusTopRight:{borderStartEndRadius:"xc56buv",$$css:!0},noBorder:{borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",$$css:!0},noBorderRadius:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0},relativeContainer:{position:"x1n2onr6",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(21),n=e.aspectRatio,a=e.count,i=e.testid,l=e.xstyle,c=n===void 0?1:n,d=a===void 0?4:a,m=r("useKadabraPageLayout")(),p=m.isMobileLayout,_=o("isImagineCanvasC50GlimmerEnabled").isImagineCanvasC50GlimmerEnabled(),f=Math.min(p?2:4,d),g=d>1,h;t[0]!==l?(h=[u.relativeContainer,l],t[0]=l,t[1]=h):h=t[1];var y;t[2]===Symbol.for("react.memo_cache_sentinel")?(y={role:"none"},t[2]=y):y=t[2];var C;t[3]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(r("KDSImageGridItem.react"),{accessibilityProps:y,aspectRatio:4,xstyle:u.noBorder,children:s.jsx(r("BaseAspectRatioContainer.react"),{aspectRatio:4.13,children:s.jsx(r("KadabraImagineCanvasLoadingAnimation.react"),{location:"Chat",quality:"2x"})})}),t[3]=C):C=t[3];var b;t[4]!==h||t[5]!==i?(b=s.jsx(r("KDSFlexbox.react"),{gap:4,testid:void 0,wrap:"nowrap",xstyle:h,children:C}),t[4]=h,t[5]=i,t[6]=b):b=t[6];var v=b,S;t[7]!==d?(S=Array.from(Array(d)),t[7]=d,t[8]=S):S=t[8];var R;t[9]!==c||t[10]!==d||t[11]!==f||t[12]!==g||t[13]!==S?(R=S.map(function(e,t){var n=o("KadabraImagineUtils").getMediaPosition(t,d,f),a=n.isBottomLeft,i=n.isBottomRight,l=n.isTopLeft,m=n.isTopRight;return s.jsx(r("KadabraImagineMediaGridItemGlimmer.react"),{aspectRatio:c,xstyle:g&&[u.noBorderRadius,l&&u.borderRadiusTopLeft,m&&u.borderRadiusTopRight,a&&u.borderRadiusBottomLeft,i&&u.borderRadiusBottomRight]},t)}),t[9]=c,t[10]=d,t[11]=f,t[12]=g,t[13]=S,t[14]=R):R=t[14];var L=R,E;t[15]!==L?(E=s.jsx(r("KDSImageGrid.react"),{columns:2,children:L}),t[15]=L,t[16]=E):E=t[16];var k=E,I;t[17]!==L||t[18]!==i||t[19]!==l?(I=s.jsx(r("KDSFlexbox.react"),{gap:2,testid:void 0,wrap:"nowrap",xstyle:l,children:L}),t[17]=L,t[18]=i,t[19]=l,t[20]=I):I=t[20];var T=I,D=p?k:T;return _?v:D}l.default=c}),98);
__d("KadabraMessageImagineOptimisticContentRenderer_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraMessageImagineOptimisticContentRenderer_data",selections:[{alias:null,args:null,concreteType:"AbraMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineCard",kind:"LinkedField",name:"imagine_card",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"orientation",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null}]}],storageKey:null}],type:"XFBAbraMessageImagineContent",abstractKey:null};a.exports=e}),null);
__d("KadabraMessageImagineOptimisticContentRenderer.react",["CometRelay","KadabraGenAIImagineSessionOptimistic.react","KadabraImagineAspectRatioUtils","KadabraMessageImagineOptimisticContentRenderer_data.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i,l,s=o("react-compiler-runtime").c(7),c=t.data,d=t.testid,m=t.xstyle,p=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraMessageImagineOptimisticContentRenderer_data.graphql"),c),_=(a=p==null||(i=p.message)==null?void 0:i.is_video)!=null?a:!1,f=_?"VERTICAL":p==null||(l=p.message)==null||(l=l.imagine_card)==null?void 0:l.orientation,g;s[0]!==f?(g=o("KadabraImagineAspectRatioUtils").getAspectRatioFromOrientation(f),s[0]=f,s[1]=g):g=s[1];var h=_?1:4,y;return s[2]!==g||s[3]!==h||s[4]!==d||s[5]!==m?(y=u.jsx(r("KadabraGenAIImagineSessionOptimistic.react"),{aspectRatio:g,count:h,testid:void 0,xstyle:m}),s[2]=g,s[3]=h,s[4]=d,s[5]=m,s[6]=y):y=s[6],y}l.default=c}),98);
__d("KadabraUnifiedCanvasFilmStripItemImage_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraUnifiedCanvasFilmStripItemImage_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"useKadabraUnifiedCanvasHandleNewMediaPress_media"}],type:"XFBGENAIImagineImage",abstractKey:null};a.exports=e}),null);
__d("KadabraUnifiedCanvasFilmStripItemImage.react",["CometPressable.react","CometRelay","KadabraImagineMedia.react","KadabraUnifiedCanvasFilmStripItemImage_media.graphql","KadabraUnifiedCanvasFilmStripItemOptimistic.react","react","react-compiler-runtime","useKadabraImpressionLogger","useKadabraUnifiedCanvasHandleNewMediaPress"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState,d="xekv6nw-B",m="x17qceat-B",p={fadeInAnimation:{animationDuration:"xxkxylk",animationFillMode:"x10e4vud",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},hidden:{opacity:"xg01cxk",$$css:!0},media:{borderStartStartRadius:"x12gd4b6",borderStartEndRadius:"x18jusmx",borderEndEndRadius:"xtiry3x",borderEndStartRadius:"x1p6xzkp",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}};function _(t){var a=o("react-compiler-runtime").c(23),i=t.linkProps,l=t.mediaKey,s=t.onPress,d=t.renderTileWithoutURI,m=d===void 0?!1:d,_=r("useKadabraImpressionLogger")(),f=c(!1),g=f[0],h=f[1],y=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraUnifiedCanvasFilmStripItemImage_media.graphql"),l),C=r("useKadabraUnifiedCanvasHandleNewMediaPress")(y,s),b=y.uri;if(b==null){if(m){var v;return a[0]===Symbol.for("react.memo_cache_sentinel")?(v=u.jsx(r("KadabraUnifiedCanvasFilmStripItemOptimistic.react"),{index:0}),a[0]=v):v=a[0],v}return null}var S;a[1]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x12gd4b6 x18jusmx xtiry3x x1p6xzkp xck5h2i x1n2onr6 xs2p1uf"},a[1]=S):S=a[1];var R;a[2]!==g?(R={0:{className:"x1d90nhi x12gd4b6 x18jusmx xtiry3x x1p6xzkp x5yr21d x10l6tqk xh8yej3"},1:{className:"x1d90nhi x12gd4b6 x18jusmx xtiry3x x1p6xzkp x5yr21d x10l6tqk xh8yej3 xxkxylk x10e4vud xvma63k x4hg4is"}}[!!g<<0],a[2]=g,a[3]=R):R=a[3];var L;a[4]!==R?(L=u.jsx("div",babelHelpers.extends({},R)),a[4]=R,a[5]=L):L=a[5];var E;a[6]!==y.id||a[7]!==_?(E=function(){var e;_.log({action_target:"unified_canvas_thumbnail",event_name:"unified_canvas_thumbnail_impression",imagine_media_info:{media_id:(e=y==null?void 0:y.id)!=null?e:""}}),h(!0)},a[6]=y.id,a[7]=_,a[8]=E):E=a[8];var k=g?p.fadeInAnimation:p.hidden,I;a[9]!==k?(I=[p.media,k],a[9]=k,a[10]=I):I=a[10];var T;a[11]!==y.media_type||a[12]!==E||a[13]!==I||a[14]!==b?(T=u.jsx(r("KadabraImagineMedia.react"),{mediaType:y.media_type,objectFit:"cover",onLoad:E,uri:b,xstyle:I}),a[11]=y.media_type,a[12]=E,a[13]=I,a[14]=b,a[15]=T):T=a[15];var D;a[16]!==L||a[17]!==T?(D=u.jsxs("div",babelHelpers.extends({},S,{children:[L,T]})),a[16]=L,a[17]=T,a[18]=D):D=a[18];var x;return a[19]!==C||a[20]!==i||a[21]!==D?(x=u.jsx(r("CometPressable.react"),{linkProps:i,onPress:C,children:D}),a[19]=C,a[20]=i,a[21]=D,a[22]=x):x=a[22],x}l.default=_}),98);
__d("AlakazamUnifiedCanvasFilmStripImagineContentRenderer.react",["AlakazamUnifiedCanvasFilmStripImagineContentRenderer_data.graphql","AlakazamUnifiedCanvasFilmStripItemWrapper.react","CometPlaceholder.react","CometRelay","KadabraAppRootInteractionContext.react","KadabraMessageImagineOptimisticContentRenderer.react","KadabraUnifiedCanvasFilmStripItemImage.react","react","react-compiler-runtime","useKadabraInteractionLogger","useKadabraOpenUnifiedCanvas"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useEffect;function d(t){var a,i,l,s=o("react-compiler-runtime").c(19),d=t.currentMediaId,m=t.data,p=t.onPress,_=t.selectedRef,f=t.streamingState,g=t.visibilityRef,h=o("CometRelay").useFragment(e!==void 0?e:e=n("AlakazamUnifiedCanvasFilmStripImagineContentRenderer_data.graphql"),m),y=r("useKadabraInteractionLogger")(),C=o("KadabraAppRootInteractionContext.react").useKadabraAppRootInteractionContext(),b=C.getActiveTrace,v=r("useKadabraOpenUnifiedCanvas")(),S=v.createLinkProps,R=f==="CLIENT_STOP",L;if(s[0]!==(h==null||(a=h.imagine)==null||(a=a.session)==null?void 0:a.media_sets)||s[1]!==b){var E;L=function(){var e;if(!(h!=null&&(e=h.imagine)!=null&&(e=e.session)!=null&&e.media_sets)){var t;b==null||(t=b())==null||t.addMarkerPoint("imagine_rendered","AppTiming")}},s[0]=h==null||(E=h.imagine)==null||(E=E.session)==null?void 0:E.media_sets,s[1]=b,s[2]=L}else L=s[2];var k=h==null||(i=h.imagine)==null?void 0:i.session,I;if(s[3]!==b||s[4]!==k?(I=[b,k],s[3]=b,s[4]=k,s[5]=I):I=s[5],c(L,I),R)return null;var T;s[6]!==h?(T=u.jsx(r("KadabraMessageImagineOptimisticContentRenderer.react"),{data:h,testid:void 0}),s[6]=h,s[7]=T):T=s[7];var D;if(s[8]!==S||s[9]!==d||s[10]!==((l=h.imagine)==null||(l=l.session)==null?void 0:l.media_sets)||s[11]!==y||s[12]!==p||s[13]!==_||s[14]!==g){var x,$;D=(x=h.imagine)==null||(x=x.session)==null||(x=x.media_sets)==null?void 0:x.map(function(e,t){var n;return(n=e.imagine_media)==null?void 0:n.map(function(e,n){if(e!=null&&e.KadabraUnifiedCanvasFilmStripItemImage_media!=null){var o,a=e.KadabraUnifiedCanvasFilmStripItemImage_media,i=(o=e.encoded_id)!=null?o:e.id,l=i===d;return u.jsx(r("AlakazamUnifiedCanvasFilmStripItemWrapper.react"),{isFavorited:e.is_favorited_by_owner===!0,isNew:e.is_new_media===!0,isSelected:l,selectedRef:_,visibilityRef:g,children:u.jsx(r("KadabraUnifiedCanvasFilmStripItemImage.react"),{linkProps:S(i),mediaKey:a,onPress:function(){y.log({action_target:"unified_canvas_thumbnail",action_type:"click",event_name:"imagine_media_click",imagine_media_info:{media_id:e.id}}),p==null||p(i)}})},i+t+n)}return null})}),s[8]=S,s[9]=d,s[10]=($=h.imagine)==null||($=$.session)==null?void 0:$.media_sets,s[11]=y,s[12]=p,s[13]=_,s[14]=g,s[15]=D}else D=s[15];var P;return s[16]!==T||s[17]!==D?(P=u.jsx(r("CometPlaceholder.react"),{fallback:T,name:"KadabraUnifiedCanvasFilmStripImagineContentRenderer",children:D}),s[16]=T,s[17]=D,s[18]=P):P=s[18],P}l.default=d}),98);
__d("AlakazamUnifiedCanvasFilmStripImagineContentRenderer_data$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_new_media",storageKey:null}]}];return{kind:"SplitOperation",metadata:{},name:"AlakazamUnifiedCanvasFilmStripImagineContentRenderer_data$normalization",selections:[{alias:null,args:null,concreteType:"AbraMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineCard",kind:"LinkedField",name:"imagine_card",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"orientation",storageKey:null},e],storageKey:null},e,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"XFBGenAIImagineCard",kind:"LinkedField",name:"imagine",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineSession",kind:"LinkedField",name:"session",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaSet",kind:"LinkedField",name:"media_sets",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_media",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_favorited_by_owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encoded_id",storageKey:null},e,{kind:"InlineFragment",selections:t,type:"XFBGENAIImagineImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:t,type:"XFBGENAIVideoGen",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],type:"XFBGENAIImagineImage",abstractKey:null}],storageKey:null},e],storageKey:null},e],storageKey:null},e],storageKey:null}]}})();a.exports=e}),null);